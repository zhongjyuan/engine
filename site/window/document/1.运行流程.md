## 运行流程

### 项目模版
```html
<!DOCTYPE html>
<html lang="cn">
	<head>
		<title>window</title>
		<meta charset="utf-8" />

		<meta http-equiv="Expires" content="0" />
		<meta http-equiv="Cache" content="no-cache" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Cache-control" content="no-cache" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

		<meta content="webkit" name="renderer" />
		<meta content="True" name="HandheldFriendly" />
		<meta content="no" name="msapplication-tap-highlight" />
		<meta content="yes" name="apple-mobile-web-app-capable" />
		<meta content="Title" name="apple-mobile-web-app-title" />
		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
		<meta content="black" name="apple-mobile-web-app-status-bar-style" />
		<meta content="width=device-width, initial-scale=1" name="viewport" />
		<meta content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" name="viewport" />
		<meta content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" name="viewport" />

		<link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" media="screen" />

		<script src="./static/use/jquery-2.2.4.min.js"></script>
		<script src="./static/use/jquery.nicescroll.min.js"></script>
		<script src="./static/use/clipboard-polyfill.js"></script>
		<script src="./static/use/vue.min.js"></script>
	</head>

	<body>
		<div id="app">
			<div id="win"></div>
		</div>
	</body>
</html>
```
### 基础引用
1、jquery

2、jquery.nicescroll

3、clipboard-polyfill

4、vue
### 高级引用
> head
```html
<head>
    <link href="/static/main.5b39c0c3.css" rel="stylesheet">
    <link href="/static/component.3ac3c2ad.css" rel="stylesheet">
</head>
```
- main.css：全局样式
- component.css：组件样式
> body
```html
<body>
    <script src="/static/runtime.1bc42169.js"></script>
    <script src="/static/main.5b39c0c3.js"></script>
    <script src="/static/component.3ac3c2ad.js"></script>
    <script src="/static/window.ff9a0d2f.js"></script>
</body>
```
- main.js：配置 + API
- component.js：组件
- window.js：主体初始化 + 主体API
> 项目启动流程
- 主体
> 注：需要引入`runtime.js`、`main.js`、`component.js`、`window.js`

  1、增加消息监听
  ```js
  ZHONGJYUAN.windowOnMessage();
  ```
  2、设置全局变量
  ```js
  ZHONGJYUAN.setVariable("rootElement", xxx);
  ZHONGJYUAN.setVariable("favicon", xxx, true);
  ZHONGJYUAN.setVariable("gif_error", xxx, true);
  ZHONGJYUAN.setVariable("png_error", xxx, true);
  ZHONGJYUAN.setVariable("gif_404", xxx, true);
  ZHONGJYUAN.setVariable("png_404", xxx, true);
  ```
  3、加载
  ```js
  ZHONGJYUAN.onLoad(function(){

  });
  ```
  4、加载多语言
  ```js
  ZHONGJYUAN.loadLanguage(languageData);
  ```
  5、加载资源(style、script、prefetch)
  ```js
  ZHONGJYUAN.loadResources();
  ```
  6、自定义加载(`支持多个自定义,按增加顺序执行`)
  > 注：系统内置2个自定义加载
  ```js
  ZHONGJYUAN.addOnLoad(function() {
    // 自定义加载内容,ZHONGJYUAN.loadResources()完成后执行!
  });
  ```
  7、初始化 + 渲染
  ```js
  ZHONGJYUAN.initialize(initializeData);
  ```
  8、自定义准备工作(`支持多个自定义,按增加顺序执行`)
  > 注：系统内置4个自定义准备工作
  ```js
  ZHONGJYUAN.addOnReady(function() {
    // 自定义准备工作,ZHONGJYUAN.initialize()完成后执行!
  });
  ```
- 应用
> 注：需要引入`win.js`

  1、构建win操作对象
  ```js
  ZHONGJYUAN.win = {};
  ```
  2、增加监听事件
  ```js
  ZHONGJYUAN.winOnMessage();
  ```
  3、增加自定义准备工作
  > 注：应用的准备工作只能有一个，重复定义会进行覆盖！
  ```js
  ZHONGJYUAN.win.onReady(function(){
    // 自定义应用的准备工作函数内容
  });
  ```
  4、增加事件监听处理
  > 注：监听主体与其他应用发送的事件内容
  ```js
  ZHONGJYUAN.win.onEvent(function(){
    // 自定义事件监听处理函数内容
  });
  ```