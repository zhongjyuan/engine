{"version":3,"file":"static/js/585.3a09e534.chunk.js","mappings":"iNAMA,MA0DA,EA1DcA,KACZ,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAaC,IAAkBF,EAAAA,EAAAA,WAAS,GAwB/C,OAJAG,EAAAA,EAAAA,YAAU,KAlBWC,WACnBL,EAASM,aAAaC,QAAQ,UAAY,IAC1C,MAAMC,QAAYC,EAAAA,GAAIC,IAAI,eACpB,QAAEC,EAAO,QAAEC,EAAO,KAAEC,GAASL,EAAIK,KACvC,GAAIF,EAAS,CACX,IAAIG,EAAeD,EACdA,EAAKE,WAAW,cACnBD,EAAeE,EAAAA,GAAOC,MAAMJ,IAE9Bb,EAASc,GACTR,aAAaY,QAAQ,QAASJ,EAChC,MACEK,EAAAA,EAAAA,IAAUP,GACVZ,EAAS,uDAEXG,GAAe,EAAK,EAIpBiB,GAAeC,MAAM,GACpB,KAGDC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACGtB,GAAyB,KAAVH,GACduB,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEC,EAAAA,EAAAA,MAACC,EAAAA,EAAO,CAAAF,SAAA,EACNF,EAAAA,EAAAA,KAACK,EAAAA,EAAM,CAACC,GAAG,KAAIJ,SAAC,kBAChBF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,+GAAmC,8CAEtCF,EAAAA,EAAAA,KAAA,KAAGO,KAAK,uCAAsCL,SAAC,+CAMnDF,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACGzB,EAAMgB,WAAW,aAChBO,EAAAA,EAAAA,KAAA,UACEQ,IAAK/B,EACLgC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAASC,OAAQ,WAGnDZ,EAAAA,EAAAA,KAAA,OACES,MAAO,CAAEI,SAAU,UACnBC,wBAAyB,CAAEC,OAAQtC,QAK1C,C","sources":["pages/About/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Header, Segment } from 'semantic-ui-react';\r\nimport { marked } from 'marked';\r\n\r\nimport { API, showError } from '../../helpers';\r\n\r\nconst About = () => {\r\n  const [about, setAbout] = useState('');\r\n  const [aboutLoaded, setAboutLoaded] = useState(false);\r\n\r\n  const displayAbout = async () => {\r\n    setAbout(localStorage.getItem('about') || '');\r\n    const res = await API.get('/api/about');\r\n    const { success, message, data } = res.data;\r\n    if (success) {\r\n      let aboutContent = data;\r\n      if (!data.startsWith('https://')) {\r\n        aboutContent = marked.parse(data);\r\n      }\r\n      setAbout(aboutContent);\r\n      localStorage.setItem('about', aboutContent);\r\n    } else {\r\n      showError(message);\r\n      setAbout('加载关于内容失败...');\r\n    }\r\n    setAboutLoaded(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    displayAbout().then();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {aboutLoaded && about === '' ? (\r\n        <>\r\n          <Segment>\r\n            <Header as='h3'>关于</Header>\r\n            <p>可在设置页面设置关于内容，支持 HTML & Markdown</p>\r\n            项目仓库地址：\r\n            <a href='https://gitee.com/zhongjyuan/one-api'>\r\n              https://gitee.com/zhongjyuan/one-api\r\n            </a>\r\n          </Segment>\r\n        </>\r\n      ) : (\r\n        <>\r\n          {about.startsWith('https://') ? (\r\n            <iframe\r\n              src={about}\r\n              style={{ width: '100%', height: '100vh', border: 'none' }}\r\n            />\r\n          ) : (\r\n            <div\r\n              style={{ fontSize: 'larger' }}\r\n              dangerouslySetInnerHTML={{ __html: about }}\r\n            ></div>\r\n          )}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default About;\r\n"],"names":["About","about","setAbout","useState","aboutLoaded","setAboutLoaded","useEffect","async","localStorage","getItem","res","API","get","success","message","data","aboutContent","startsWith","marked","parse","setItem","showError","displayAbout","then","_jsx","_Fragment","children","_jsxs","Segment","Header","as","href","src","style","width","height","border","fontSize","dangerouslySetInnerHTML","__html"],"sourceRoot":""}