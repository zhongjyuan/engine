{"version":3,"file":"static/js/101.990c9a66.chunk.js","mappings":"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","sources":["constants/ChannelConstants.js","constants/CommonConstants.js","ui-component/Switch.js","ui-component/TableToolBar.js","../node_modules/@tabler/icons-react/src/icons/IconCaretDownFilled.js","views/Token/component/TableRow.js","views/Token/component/TableHead.js","views/Token/component/EditModal.js","views/Token/index.js"],"sourcesContent":["export const CHANNEL_OPTIONS = {\r\n\t1: {\r\n\t\tkey: 1,\r\n\t\ttext: \"OpenAI\",\r\n\t\tvalue: 1,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n\t14: {\r\n\t\tkey: 14,\r\n\t\ttext: \"Anthropic Claude\",\r\n\t\tvalue: 14,\r\n\t\tcolor: \"info\",\r\n\t},\r\n\t3: {\r\n\t\tkey: 3,\r\n\t\ttext: \"Azure OpenAI\",\r\n\t\tvalue: 3,\r\n\t\tcolor: \"orange\",\r\n\t},\r\n\t11: {\r\n\t\tkey: 11,\r\n\t\ttext: \"Google PaLM2\",\r\n\t\tvalue: 11,\r\n\t\tcolor: \"orange\",\r\n\t},\r\n\t24: {\r\n\t\tkey: 24,\r\n\t\ttext: \"Google Gemini\",\r\n\t\tvalue: 24,\r\n\t\tcolor: \"orange\",\r\n\t},\r\n\t15: {\r\n\t\tkey: 15,\r\n\t\ttext: \"百度文心千帆\",\r\n\t\tvalue: 15,\r\n\t\tcolor: \"default\",\r\n\t},\r\n\t17: {\r\n\t\tkey: 17,\r\n\t\ttext: \"阿里通义千问\",\r\n\t\tvalue: 17,\r\n\t\tcolor: \"default\",\r\n\t},\r\n\t18: {\r\n\t\tkey: 18,\r\n\t\ttext: \"讯飞星火认知\",\r\n\t\tvalue: 18,\r\n\t\tcolor: \"default\",\r\n\t},\r\n\t16: {\r\n\t\tkey: 16,\r\n\t\ttext: \"智谱 ChatGLM\",\r\n\t\tvalue: 16,\r\n\t\tcolor: \"default\",\r\n\t},\r\n\t19: {\r\n\t\tkey: 19,\r\n\t\ttext: \"360 智脑\",\r\n\t\tvalue: 19,\r\n\t\tcolor: \"default\",\r\n\t},\r\n\t25: {\r\n\t\tkey: 25,\r\n\t\ttext: \"Moonshot AI\",\r\n\t\tvalue: 19,\r\n\t\tcolor: \"default\",\r\n\t},\r\n\t23: {\r\n\t\tkey: 23,\r\n\t\ttext: \"腾讯混元\",\r\n\t\tvalue: 23,\r\n\t\tcolor: \"default\",\r\n\t},\r\n\t8: {\r\n\t\tkey: 8,\r\n\t\ttext: \"自定义渠道\",\r\n\t\tvalue: 8,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n\t22: {\r\n\t\tkey: 22,\r\n\t\ttext: \"知识库：FastGPT\",\r\n\t\tvalue: 22,\r\n\t\tcolor: \"default\",\r\n\t},\r\n\t21: {\r\n\t\tkey: 21,\r\n\t\ttext: \"知识库：AI Proxy\",\r\n\t\tvalue: 21,\r\n\t\tcolor: \"purple\",\r\n\t},\r\n\t20: {\r\n\t\tkey: 20,\r\n\t\ttext: \"代理：OpenRouter\",\r\n\t\tvalue: 20,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n\t2: {\r\n\t\tkey: 2,\r\n\t\ttext: \"代理：API2D\",\r\n\t\tvalue: 2,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n\t5: {\r\n\t\tkey: 5,\r\n\t\ttext: \"代理：OpenAI-SB\",\r\n\t\tvalue: 5,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n\t7: {\r\n\t\tkey: 7,\r\n\t\ttext: \"代理：OhMyGPT\",\r\n\t\tvalue: 7,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n\t10: {\r\n\t\tkey: 10,\r\n\t\ttext: \"代理：AI Proxy\",\r\n\t\tvalue: 10,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n\t4: {\r\n\t\tkey: 4,\r\n\t\ttext: \"代理：CloseAI\",\r\n\t\tvalue: 4,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n\t6: {\r\n\t\tkey: 6,\r\n\t\ttext: \"代理：OpenAI Max\",\r\n\t\tvalue: 6,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n\t9: {\r\n\t\tkey: 9,\r\n\t\ttext: \"代理：AI.LS\",\r\n\t\tvalue: 9,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n\t12: {\r\n\t\tkey: 12,\r\n\t\ttext: \"代理：API2GPT\",\r\n\t\tvalue: 12,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n\t13: {\r\n\t\tkey: 13,\r\n\t\ttext: \"代理：AIGC2D\",\r\n\t\tvalue: 13,\r\n\t\tcolor: \"primary\",\r\n\t},\r\n};\r\n","export const ITEMS_PER_PAGE = 10; // this value must keep same as the one defined in backend!\r\n","import { styled } from \"@mui/material/styles\";\r\nimport Switch from \"@mui/material/Switch\";\r\n\r\nconst TableSwitch = styled(Switch)(({ theme }) => ({\r\n\tpadding: 8,\r\n\t\"& .MuiSwitch-track\": {\r\n\t\tborderRadius: 22 / 2,\r\n\t\t\"&:before, &:after\": {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tposition: \"absolute\",\r\n\t\t\ttop: \"50%\",\r\n\t\t\ttransform: \"translateY(-50%)\",\r\n\t\t\twidth: 16,\r\n\t\t\theight: 16,\r\n\t\t},\r\n\t\t\"&:before\": {\r\n\t\t\tbackgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"16\" viewBox=\"0 0 24 24\"><path fill=\"${encodeURIComponent(\r\n\t\t\t\ttheme.palette.getContrastText(theme.palette.primary.main)\r\n\t\t\t)}\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"/></svg>')`,\r\n\t\t\tleft: 12,\r\n\t\t},\r\n\t\t\"&:after\": {\r\n\t\t\tbackgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"16\" viewBox=\"0 0 24 24\"><path fill=\"${encodeURIComponent(\r\n\t\t\t\ttheme.palette.getContrastText(theme.palette.primary.main)\r\n\t\t\t)}\" d=\"M19,13H5V11H19V13Z\" /></svg>')`,\r\n\t\t\tright: 12,\r\n\t\t},\r\n\t},\r\n\t\"& .MuiSwitch-thumb\": {\r\n\t\tboxShadow: \"none\",\r\n\t\twidth: 16,\r\n\t\theight: 16,\r\n\t\tmargin: 2,\r\n\t},\r\n}));\r\n\r\nexport default TableSwitch;\r\n","import PropTypes from \"prop-types\";\r\n\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\nimport OutlinedInput from \"@mui/material/OutlinedInput\";\r\nimport InputAdornment from \"@mui/material/InputAdornment\";\r\n\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport { IconSearch } from \"@tabler/icons-react\";\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function TableToolBar({ filterName, handleFilterName, placeholder }) {\r\n\tconst theme = useTheme();\r\n\tconst grey500 = theme.palette.grey[500];\r\n\r\n\treturn (\r\n\t\t<Toolbar\r\n\t\t\tsx={{\r\n\t\t\t\theight: 80,\r\n\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\tjustifyContent: \"space-between\",\r\n\t\t\t\tp: (theme) => theme.spacing(0, 1, 0, 3),\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<OutlinedInput\r\n\t\t\t\tid=\"keyword\"\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: \"100%\",\r\n\t\t\t\t}}\r\n\t\t\t\tvalue={filterName}\r\n\t\t\t\tonChange={handleFilterName}\r\n\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\tstartAdornment={\r\n\t\t\t\t\t<InputAdornment position=\"start\">\r\n\t\t\t\t\t\t<IconSearch stroke={1.5} size=\"20px\" color={grey500} />\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Toolbar>\r\n\t);\r\n}\r\n\r\nTableToolBar.propTypes = {\r\n\tfilterName: PropTypes.string,\r\n\thandleFilterName: PropTypes.func,\r\n\tplaceholder: PropTypes.string,\r\n};\r\n","import createReactComponent from '../createReactComponent';\nexport default createReactComponent(\n  'caret-down-filled',\n  'IconCaretDownFilled',\n  [\n    [\n      'path',\n      {\n        d: 'M18 9c.852 0 1.297 .986 .783 1.623l-.076 .084l-6 6a1 1 0 0 1 -1.32 .083l-.094 -.083l-6 -6l-.083 -.094l-.054 -.077l-.054 -.096l-.017 -.036l-.027 -.067l-.032 -.108l-.01 -.053l-.01 -.06l-.004 -.057v-.118l.005 -.058l.009 -.06l.01 -.052l.032 -.108l.027 -.067l.07 -.132l.065 -.09l.073 -.081l.094 -.083l.077 -.054l.096 -.054l.036 -.017l.067 -.027l.108 -.032l.053 -.01l.06 -.01l.057 -.004l12.059 -.002z',\n        fill: 'currentColor',\n        key: 'svg-0',\n        strokeWidth: '0',\n      },\n    ],\n  ],\n);\n","import PropTypes from \"prop-types\";\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport {\r\n\tPopover,\r\n\tTableRow,\r\n\tMenuItem,\r\n\tTableCell,\r\n\tIconButton,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n\tButton,\r\n\tTooltip,\r\n\tStack,\r\n\tButtonGroup,\r\n} from \"@mui/material\";\r\n\r\nimport TableSwitch from \"ui-component/Switch\";\r\nimport { renderQuota, showSuccess, timestamp2string } from \"utils/common\";\r\n\r\nimport { IconDotsVertical, IconEdit, IconTrash, IconCaretDownFilled } from \"@tabler/icons-react\";\r\n\r\nconst COPY_OPTIONS = [\r\n\t{\r\n\t\tkey: \"next\",\r\n\t\ttext: \"ChatGPT Next\",\r\n\t\turl: 'https://chat.oneapi.pro/#/?settings={\"key\":\"sk-{key}\",\"url\":\"{serverAddress}\"}',\r\n\t\tencode: false,\r\n\t},\r\n\t{ key: \"ama\", text: \"AMA 问天\", url: \"ama://set-api-key?server={serverAddress}&key=sk-{key}\", encode: true },\r\n\t{ key: \"opencat\", text: \"OpenCat\", url: \"opencat://team/join?domain={serverAddress}&token=sk-{key}\", encode: true },\r\n];\r\n\r\nfunction replacePlaceholders(text, key, serverAddress) {\r\n\treturn text.replace(\"{key}\", key).replace(\"{serverAddress}\", serverAddress);\r\n}\r\n\r\nfunction createMenu(menuItems) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{menuItems.map((menuItem, index) => (\r\n\t\t\t\t<MenuItem key={index} onClick={menuItem.onClick} sx={{ color: menuItem.color }}>\r\n\t\t\t\t\t{menuItem.icon}\r\n\t\t\t\t\t{menuItem.text}\r\n\t\t\t\t</MenuItem>\r\n\t\t\t))}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default function TokensTableRow({ item, manageToken, handleOpenModal, setModalTokenId }) {\r\n\tconst [open, setOpen] = useState(null);\r\n\tconst [menuItems, setMenuItems] = useState(null);\r\n\tconst [openDelete, setOpenDelete] = useState(false);\r\n\tconst [statusSwitch, setStatusSwitch] = useState(item.status);\r\n\tconst siteInfo = useSelector((state) => state.siteInfo);\r\n\r\n\tconst handleDeleteOpen = () => {\r\n\t\thandleCloseMenu();\r\n\t\tsetOpenDelete(true);\r\n\t};\r\n\r\n\tconst handleDeleteClose = () => {\r\n\t\tsetOpenDelete(false);\r\n\t};\r\n\r\n\tconst handleOpenMenu = (event, type) => {\r\n\t\tswitch (type) {\r\n\t\t\tcase \"copy\":\r\n\t\t\t\tsetMenuItems(copyItems);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"link\":\r\n\t\t\t\tsetMenuItems(linkItems);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tsetMenuItems(actionItems);\r\n\t\t}\r\n\t\tsetOpen(event.currentTarget);\r\n\t};\r\n\r\n\tconst handleCloseMenu = () => {\r\n\t\tsetOpen(null);\r\n\t};\r\n\r\n\tconst handleStatus = async () => {\r\n\t\tconst switchVlue = statusSwitch === 1 ? 2 : 1;\r\n\t\tconst { success } = await manageToken(item.id, \"status\", switchVlue);\r\n\t\tif (success) {\r\n\t\t\tsetStatusSwitch(switchVlue);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleDelete = async () => {\r\n\t\thandleCloseMenu();\r\n\t\tawait manageToken(item.id, \"delete\", \"\");\r\n\t};\r\n\r\n\tconst actionItems = createMenu([\r\n\t\t{\r\n\t\t\ttext: \"编辑\",\r\n\t\t\ticon: <IconEdit style={{ marginRight: \"16px\" }} />,\r\n\t\t\tonClick: () => {\r\n\t\t\t\thandleCloseMenu();\r\n\t\t\t\thandleOpenModal();\r\n\t\t\t\tsetModalTokenId(item.id);\r\n\t\t\t},\r\n\t\t\tcolor: undefined,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: \"删除\",\r\n\t\t\ticon: <IconTrash style={{ marginRight: \"16px\" }} />,\r\n\t\t\tonClick: handleDeleteOpen,\r\n\t\t\tcolor: \"error.main\",\r\n\t\t},\r\n\t]);\r\n\r\n\tconst handleCopy = (option, type) => {\r\n\t\tlet serverAddress = \"\";\r\n\t\tif (siteInfo?.server_address) {\r\n\t\t\tserverAddress = siteInfo.server_address;\r\n\t\t} else {\r\n\t\t\tserverAddress = window.location.host;\r\n\t\t}\r\n\r\n\t\tif (option.encode) {\r\n\t\t\tserverAddress = encodeURIComponent(serverAddress);\r\n\t\t}\r\n\r\n\t\tlet url = option.url;\r\n\r\n\t\tif (option.key === \"next\" && siteInfo?.chat_link) {\r\n\t\t\turl = siteInfo.chat_link + `/#/?settings={\"key\":\"sk-{key}\",\"url\":\"{serverAddress}\"}`;\r\n\t\t}\r\n\r\n\t\tconst key = item.key;\r\n\t\tconst text = replacePlaceholders(url, key, serverAddress);\r\n\t\tif (type === \"link\") {\r\n\t\t\twindow.open(text);\r\n\t\t} else {\r\n\t\t\tnavigator.clipboard.writeText(text);\r\n\t\t\tshowSuccess(\"已复制到剪贴板！\");\r\n\t\t}\r\n\t\thandleCloseMenu();\r\n\t};\r\n\r\n\tconst copyItems = createMenu(\r\n\t\tCOPY_OPTIONS.map((option) => ({\r\n\t\t\ttext: option.text,\r\n\t\t\ticon: undefined,\r\n\t\t\tonClick: () => handleCopy(option, \"copy\"),\r\n\t\t\tcolor: undefined,\r\n\t\t}))\r\n\t);\r\n\r\n\tconst linkItems = createMenu(\r\n\t\tCOPY_OPTIONS.map((option) => ({\r\n\t\t\ttext: option.text,\r\n\t\t\ticon: undefined,\r\n\t\t\tonClick: () => handleCopy(option, \"link\"),\r\n\t\t\tcolor: undefined,\r\n\t\t}))\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TableRow tabIndex={item.id}>\r\n\t\t\t\t<TableCell>{item.name}</TableCell>\r\n\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={(() => {\r\n\t\t\t\t\t\t\tswitch (statusSwitch) {\r\n\t\t\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\t\t\treturn \"已启用\";\r\n\t\t\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\t\treturn \"已禁用\";\r\n\t\t\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\t\t\treturn \"已过期\";\r\n\t\t\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\t\t\treturn \"已耗尽\";\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\treturn \"未知\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})()}\r\n\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TableSwitch\r\n\t\t\t\t\t\t\tid={`switch-${item.id}`}\r\n\t\t\t\t\t\t\tchecked={statusSwitch === 1}\r\n\t\t\t\t\t\t\tonChange={handleStatus}\r\n\t\t\t\t\t\t\t// disabled={statusSwitch !== 1 && statusSwitch !== 2}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</TableCell>\r\n\r\n\t\t\t\t<TableCell>{renderQuota(item.usedQuota)}</TableCell>\r\n\r\n\t\t\t\t<TableCell>{item.unlimitedQuota ? \"无限制\" : renderQuota(item.remainQuota, 2)}</TableCell>\r\n\r\n\t\t\t\t<TableCell>{timestamp2string(item.createTime)}</TableCell>\r\n\r\n\t\t\t\t<TableCell>{item.expireTime === -1 ? \"永不过期\" : timestamp2string(item.expireTime)}</TableCell>\r\n\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t<Stack direction=\"row\" spacing={1}>\r\n\t\t\t\t\t\t<ButtonGroup size=\"small\" aria-label=\"split button\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(`sk-${item.key}`);\r\n\t\t\t\t\t\t\t\t\tshowSuccess(\"已复制到剪贴板！\");\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t复制\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button size=\"small\" onClick={(e) => handleOpenMenu(e, \"copy\")}>\r\n\t\t\t\t\t\t\t\t<IconCaretDownFilled size={\"16px\"} />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t<ButtonGroup size=\"small\" aria-label=\"split button\">\r\n\t\t\t\t\t\t\t<Button color=\"primary\" onClick={(e) => handleCopy(COPY_OPTIONS[0], \"link\")}>\r\n\t\t\t\t\t\t\t\t聊天\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button size=\"small\" onClick={(e) => handleOpenMenu(e, \"link\")}>\r\n\t\t\t\t\t\t\t\t<IconCaretDownFilled size={\"16px\"} />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t<IconButton onClick={(e) => handleOpenMenu(e, \"action\")} sx={{ color: \"rgb(99, 115, 129)\" }}>\r\n\t\t\t\t\t\t\t<IconDotsVertical />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Stack>\r\n\t\t\t\t</TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t<Popover\r\n\t\t\t\topen={!!open}\r\n\t\t\t\tanchorEl={open}\r\n\t\t\t\tonClose={handleCloseMenu}\r\n\t\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"left\" }}\r\n\t\t\t\ttransformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n\t\t\t\tPaperProps={{\r\n\t\t\t\t\tsx: { width: 140 },\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{menuItems}\r\n\t\t\t</Popover>\r\n\r\n\t\t\t<Dialog open={openDelete} onClose={handleDeleteClose}>\r\n\t\t\t\t<DialogTitle>删除Token</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText>是否删除Token {item.name}？</DialogContentText>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={handleDeleteClose}>关闭</Button>\r\n\t\t\t\t\t<Button onClick={handleDelete} sx={{ color: \"error.main\" }} autoFocus>\r\n\t\t\t\t\t\t删除\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nTokensTableRow.propTypes = {\r\n\titem: PropTypes.object,\r\n\tmanageToken: PropTypes.func,\r\n\thandleOpenModal: PropTypes.func,\r\n\tsetModalTokenId: PropTypes.func,\r\n};\r\n","import { TableCell, TableHead, TableRow } from \"@mui/material\";\r\n\r\nconst TokenTableHead = () => {\r\n\treturn (\r\n\t\t<TableHead>\r\n\t\t\t<TableRow>\r\n\t\t\t\t<TableCell>名称</TableCell>\r\n\t\t\t\t<TableCell>状态</TableCell>\r\n\t\t\t\t<TableCell>已用额度</TableCell>\r\n\t\t\t\t<TableCell>剩余额度</TableCell>\r\n\t\t\t\t<TableCell>创建时间</TableCell>\r\n\t\t\t\t<TableCell>过期时间</TableCell>\r\n\t\t\t\t<TableCell>操作</TableCell>\r\n\t\t\t</TableRow>\r\n\t\t</TableHead>\r\n\t);\r\n};\r\n\r\nexport default TokenTableHead;\r\n","import PropTypes from \"prop-types\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport { useState, useEffect } from \"react\";\r\nimport dayjs from \"dayjs\";\r\nimport {\r\n\tDialog,\r\n\tDialogTitle,\r\n\tDialogContent,\r\n\tDialogActions,\r\n\tButton,\r\n\tDivider,\r\n\tAlert,\r\n\tFormControl,\r\n\tInputLabel,\r\n\tOutlinedInput,\r\n\tInputAdornment,\r\n\tSwitch,\r\n\tFormHelperText,\r\n} from \"@mui/material\";\r\n\r\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\r\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\r\nimport { DateTimePicker } from \"@mui/x-date-pickers/DateTimePicker\";\r\nimport { renderQuotaWithPrompt, showSuccess, showError } from \"utils/common\";\r\nimport { API } from \"utils/api\";\r\nrequire(\"dayjs/locale/zh-cn\");\r\n\r\nconst validationSchema = Yup.object().shape({\r\n\tis_edit: Yup.boolean(),\r\n\tname: Yup.string().required(\"名称 不能为空\"),\r\n\tremainQuota: Yup.number().min(0, \"必须大于等于0\"),\r\n\texpireTime: Yup.number(),\r\n\tunlimitedQuota: Yup.boolean(),\r\n});\r\n\r\nconst originInputs = {\r\n\tis_edit: false,\r\n\tname: \"\",\r\n\tremainQuota: 0,\r\n\texpireTime: -1,\r\n\tunlimitedQuota: false,\r\n};\r\n\r\nconst EditModal = ({ open, tokenId, onCancel, onOk }) => {\r\n\tconst theme = useTheme();\r\n\tconst [inputs, setInputs] = useState(originInputs);\r\n\r\n\tconst submit = async (values, { setErrors, setStatus, setSubmitting }) => {\r\n\t\tsetSubmitting(true);\r\n\r\n\t\tvalues.remainQuota = parseInt(values.remainQuota);\r\n\t\tlet res;\r\n\t\tif (values.is_edit) {\r\n\t\t\tres = await API.put(`/api/token/`, { ...values, id: parseInt(tokenId) });\r\n\t\t} else {\r\n\t\t\tres = await API.post(`/api/token/`, values);\r\n\t\t}\r\n\t\tconst { success, message } = res.data;\r\n\t\tif (success) {\r\n\t\t\tif (values.is_edit) {\r\n\t\t\t\tshowSuccess(\"令牌更新成功！\");\r\n\t\t\t} else {\r\n\t\t\t\tshowSuccess(\"令牌创建成功，请在列表页面点击复制获取令牌！\");\r\n\t\t\t}\r\n\t\t\tsetSubmitting(false);\r\n\t\t\tsetStatus({ success: true });\r\n\t\t\tonOk(true);\r\n\t\t} else {\r\n\t\t\tshowError(message);\r\n\t\t\tsetErrors({ submit: message });\r\n\t\t}\r\n\t};\r\n\r\n\tconst loadToken = async () => {\r\n\t\tlet res = await API.get(`/api/token/${tokenId}`);\r\n\t\tconst { success, message, data } = res.data;\r\n\t\tif (success) {\r\n\t\t\tdata.is_edit = true;\r\n\t\t\tsetInputs(data);\r\n\t\t} else {\r\n\t\t\tshowError(message);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (tokenId) {\r\n\t\t\tloadToken().then();\r\n\t\t}\r\n\t}, [tokenId]);\r\n\r\n\treturn (\r\n\t\t<Dialog open={open} onClose={onCancel} fullWidth maxWidth={\"md\"}>\r\n\t\t\t<DialogTitle\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tmargin: \"0px\",\r\n\t\t\t\t\tfontWeight: 700,\r\n\t\t\t\t\tlineHeight: \"1.55556\",\r\n\t\t\t\t\tpadding: \"24px\",\r\n\t\t\t\t\tfontSize: \"1.125rem\",\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{tokenId ? \"编辑Token\" : \"新建Token\"}\r\n\t\t\t</DialogTitle>\r\n\t\t\t<Divider />\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<Alert severity=\"info\">注意，令牌的额度仅用于限制令牌本身的最大额度使用量，实际的使用受到账户的剩余额度限制。</Alert>\r\n\t\t\t\t<Formik initialValues={inputs} enableReinitialize validationSchema={validationSchema} onSubmit={submit}>\r\n\t\t\t\t\t{({ errors, handleBlur, handleChange, handleSubmit, touched, values, setFieldError, setFieldValue, isSubmitting }) => (\r\n\t\t\t\t\t\t<form noValidate onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth error={Boolean(touched.name && errors.name)} sx={{ ...theme.typography.otherInput }}>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"channel-name-label\">名称</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"channel-name-label\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"名称\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={values.name}\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\tinputProps={{ autoComplete: \"name\" }}\r\n\t\t\t\t\t\t\t\t\taria-describedby=\"helper-text-channel-name-label\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{touched.name && errors.name && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText error id=\"helper-tex-channel-name-label\">\r\n\t\t\t\t\t\t\t\t\t\t{errors.name}\r\n\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t{values.expireTime !== -1 && (\r\n\t\t\t\t\t\t\t\t<FormControl fullWidth error={Boolean(touched.expireTime && errors.expireTime)} sx={{ ...theme.typography.otherInput }}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider dateAdapter={AdapterDayjs} adapterLocale={\"zh-cn\"}>\r\n\t\t\t\t\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"过期时间\"\r\n\t\t\t\t\t\t\t\t\t\t\tampm={false}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dayjs.unix(values.expireTime)}\r\n\t\t\t\t\t\t\t\t\t\t\tonError={(newError) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (newError === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldError(\"expireTime\", null);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldError(\"expireTime\", \"无效的日期\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"expireTime\", newValue.unix());\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tslotProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tactionBar: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tactions: [\"today\", \"accept\"],\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t{errors.expireTime && (\r\n\t\t\t\t\t\t\t\t\t\t<FormHelperText error id=\"helper-tex-channel-expired_time-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t{errors.expireTime}\r\n\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tchecked={values.expireTime === -1}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tif (values.expireTime === -1) {\r\n\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"expireTime\", Math.floor(Date.now() / 1000));\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"expireTime\", -1);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t永不过期\r\n\t\t\t\t\t\t\t<FormControl fullWidth error={Boolean(touched.remainQuota && errors.remainQuota)} sx={{ ...theme.typography.otherInput }}>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"channel-remain_quota-label\">额度</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"channel-remain_quota-label\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"额度\"\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tvalue={values.remainQuota}\r\n\t\t\t\t\t\t\t\t\tname=\"remainQuota\"\r\n\t\t\t\t\t\t\t\t\tendAdornment={<InputAdornment position=\"end\">{renderQuotaWithPrompt(values.remainQuota)}</InputAdornment>}\r\n\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\taria-describedby=\"helper-text-channel-remain_quota-label\"\r\n\t\t\t\t\t\t\t\t\tdisabled={values.unlimitedQuota}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t{touched.remainQuota && errors.remainQuota && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText error id=\"helper-tex-channel-remain_quota-label\">\r\n\t\t\t\t\t\t\t\t\t\t{errors.remainQuota}\r\n\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tchecked={values.unlimitedQuota === true}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetFieldValue(\"unlimitedQuota\", !values.unlimitedQuota);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t无限额度\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button onClick={onCancel}>取消</Button>\r\n\t\t\t\t\t\t\t\t<Button disableElevation disabled={isSubmitting} type=\"submit\" variant=\"contained\" color=\"primary\">\r\n\t\t\t\t\t\t\t\t\t提交\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</DialogContent>\r\n\t\t</Dialog>\r\n\t);\r\n};\r\n\r\nexport default EditModal;\r\n\r\nEditModal.propTypes = {\r\n\topen: PropTypes.bool,\r\n\ttokenId: PropTypes.number,\r\n\tonCancel: PropTypes.func,\r\n\tonOk: PropTypes.func,\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { showError, showSuccess } from \"utils/common\";\r\n\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport TablePagination from \"@mui/material/TablePagination\";\r\nimport LinearProgress from \"@mui/material/LinearProgress\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport ButtonGroup from \"@mui/material/ButtonGroup\";\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\n\r\nimport { Button, Card, Box, Stack, Container, Typography } from \"@mui/material\";\r\nimport TokensTableRow from \"./component/TableRow\";\r\nimport TokenTableHead from \"./component/TableHead\";\r\nimport TableToolBar from \"ui-component/TableToolBar\";\r\nimport { API } from \"utils/api\";\r\nimport { ITEMS_PER_PAGE } from \"constants\";\r\nimport { IconRefresh, IconPlus } from \"@tabler/icons-react\";\r\nimport EditeModal from \"./component/EditModal\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport default function Token() {\r\n\tconst [tokens, setTokens] = useState([]);\r\n\tconst [activePage, setActivePage] = useState(0);\r\n\tconst [searching, setSearching] = useState(false);\r\n\tconst [searchKeyword, setSearchKeyword] = useState(\"\");\r\n\tconst [openModal, setOpenModal] = useState(false);\r\n\tconst [editTokenId, setEditTokenId] = useState(0);\r\n\tconst siteInfo = useSelector((state) => state.siteInfo);\r\n\r\n\tconst loadTokens = async (startIdx) => {\r\n\t\tsetSearching(true);\r\n\t\tconst res = await API.get(`/api/token/?p=${startIdx}`);\r\n\t\tconst { success, message, data } = res.data;\r\n\t\tif (success) {\r\n\t\t\tif (startIdx === 0) {\r\n\t\t\t\tsetTokens(data);\r\n\t\t\t} else {\r\n\t\t\t\tlet newTokens = [...tokens];\r\n\t\t\t\tnewTokens.splice(startIdx * ITEMS_PER_PAGE, data.length, ...data);\r\n\t\t\t\tsetTokens(newTokens);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tshowError(message);\r\n\t\t}\r\n\t\tsetSearching(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tloadTokens(0)\r\n\t\t\t.then()\r\n\t\t\t.catch((reason) => {\r\n\t\t\t\tshowError(reason);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst onPaginationChange = (event, activePage) => {\r\n\t\t(async () => {\r\n\t\t\tif (activePage === Math.ceil(tokens.length / ITEMS_PER_PAGE)) {\r\n\t\t\t\t// In this case we have to load more data and then append them.\r\n\t\t\t\tawait loadTokens(activePage);\r\n\t\t\t}\r\n\t\t\tsetActivePage(activePage);\r\n\t\t})();\r\n\t};\r\n\r\n\tconst searchTokens = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif (searchKeyword === \"\") {\r\n\t\t\tawait loadTokens(0);\r\n\t\t\tsetActivePage(0);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetSearching(true);\r\n\t\tconst res = await API.get(`/api/token/search?keyword=${searchKeyword}`);\r\n\t\tconst { success, message, data } = res.data;\r\n\t\tif (success) {\r\n\t\t\tsetTokens(data);\r\n\t\t\tsetActivePage(0);\r\n\t\t} else {\r\n\t\t\tshowError(message);\r\n\t\t}\r\n\t\tsetSearching(false);\r\n\t};\r\n\r\n\tconst handleSearchKeyword = (event) => {\r\n\t\tsetSearchKeyword(event.target.value);\r\n\t};\r\n\r\n\tconst manageToken = async (id, action, value) => {\r\n\t\tconst url = \"/api/token/\";\r\n\t\tlet data = { id };\r\n\t\tlet res;\r\n\t\tswitch (action) {\r\n\t\t\tcase \"delete\":\r\n\t\t\t\tres = await API.delete(url + id);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"status\":\r\n\t\t\t\tres = await API.put(url + `?withStatus=true`, {\r\n\t\t\t\t\t...data,\r\n\t\t\t\t\tstatus: value,\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tconst { success, message } = res.data;\r\n\t\tif (success) {\r\n\t\t\tshowSuccess(\"操作成功完成！\");\r\n\t\t\tif (action === \"delete\") {\r\n\t\t\t\tawait handleRefresh();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tshowError(message);\r\n\t\t}\r\n\r\n\t\treturn res.data;\r\n\t};\r\n\r\n\t// 处理刷新\r\n\tconst handleRefresh = async () => {\r\n\t\tawait loadTokens(activePage);\r\n\t};\r\n\r\n\tconst handleOpenModal = (tokenId) => {\r\n\t\tsetEditTokenId(tokenId);\r\n\t\tsetOpenModal(true);\r\n\t};\r\n\r\n\tconst handleCloseModal = () => {\r\n\t\tsetOpenModal(false);\r\n\t\tsetEditTokenId(0);\r\n\t};\r\n\r\n\tconst handleOkModal = (status) => {\r\n\t\tif (status === true) {\r\n\t\t\thandleCloseModal();\r\n\t\t\thandleRefresh();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" mb={5}>\r\n\t\t\t\t<Typography variant=\"h4\">令牌</Typography>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thandleOpenModal(0);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tstartIcon={<IconPlus />}\r\n\t\t\t\t>\r\n\t\t\t\t\t新建令牌\r\n\t\t\t\t</Button>\r\n\t\t\t</Stack>\r\n\t\t\t<Stack mb={5}>\r\n\t\t\t\t<Alert severity=\"info\">\r\n\t\t\t\t\t将 OpenAI API 基础地址 https://api.openai.com 替换为 <b>{siteInfo.server_address}</b>，复制下面的密钥即可使用\r\n\t\t\t\t</Alert>\r\n\t\t\t</Stack>\r\n\t\t\t<Card>\r\n\t\t\t\t<Box component=\"form\" onSubmit={searchTokens} noValidate>\r\n\t\t\t\t\t<TableToolBar filterName={searchKeyword} handleFilterName={handleSearchKeyword} placeholder={\"搜索令牌的名称...\"} />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Toolbar\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\ttextAlign: \"right\",\r\n\t\t\t\t\t\theight: 50,\r\n\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\tjustifyContent: \"space-between\",\r\n\t\t\t\t\t\tp: (theme) => theme.spacing(0, 1, 0, 3),\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t<ButtonGroup variant=\"outlined\" aria-label=\"outlined small primary button group\">\r\n\t\t\t\t\t\t\t<Button onClick={handleRefresh} startIcon={<IconRefresh width={\"18px\"} />}>\r\n\t\t\t\t\t\t\t\t刷新\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t\t{searching && <LinearProgress />}\r\n\t\t\t\t<PerfectScrollbar component=\"div\">\r\n\t\t\t\t\t<TableContainer sx={{ overflow: \"unset\" }}>\r\n\t\t\t\t\t\t<Table sx={{ minWidth: 800 }}>\r\n\t\t\t\t\t\t\t<TokenTableHead />\r\n\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t{tokens.slice(activePage * ITEMS_PER_PAGE, (activePage + 1) * ITEMS_PER_PAGE).map((row) => (\r\n\t\t\t\t\t\t\t\t\t<TokensTableRow\r\n\t\t\t\t\t\t\t\t\t\titem={row}\r\n\t\t\t\t\t\t\t\t\t\tmanageToken={manageToken}\r\n\t\t\t\t\t\t\t\t\t\tkey={row.id}\r\n\t\t\t\t\t\t\t\t\t\thandleOpenModal={handleOpenModal}\r\n\t\t\t\t\t\t\t\t\t\tsetModalTokenId={setEditTokenId}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</TableContainer>\r\n\t\t\t\t</PerfectScrollbar>\r\n\t\t\t\t<TablePagination\r\n\t\t\t\t\tpage={activePage}\r\n\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\tcount={tokens.length + (tokens.length % ITEMS_PER_PAGE === 0 ? 1 : 0)}\r\n\t\t\t\t\trowsPerPage={ITEMS_PER_PAGE}\r\n\t\t\t\t\tonPageChange={onPaginationChange}\r\n\t\t\t\t\trowsPerPageOptions={[ITEMS_PER_PAGE]}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t\t<EditeModal open={openModal} onCancel={handleCloseModal} onOk={handleOkModal} tokenId={editTokenId} />\r\n\t\t</>\r\n\t);\r\n}\r\n"],"names":["CHANNEL_OPTIONS","key","text","value","color","ITEMS_PER_PAGE","TableSwitch","styled","Switch","_ref","theme","padding","borderRadius","content","position","top","transform","width","height","backgroundImage","encodeURIComponent","palette","getContrastText","primary","main","left","right","boxShadow","margin","TableToolBar","filterName","handleFilterName","placeholder","grey500","useTheme","grey","_jsx","Toolbar","sx","display","justifyContent","p","spacing","children","OutlinedInput","id","minWidth","onChange","startAdornment","InputAdornment","IconSearch","stroke","size","IconCaretDownFilled","createReactComponent","d","fill","strokeWidth","COPY_OPTIONS","url","encode","createMenu","menuItems","_Fragment","map","menuItem","index","_jsxs","MenuItem","onClick","icon","TokensTableRow","item","manageToken","handleOpenModal","setModalTokenId","open","setOpen","useState","setMenuItems","openDelete","setOpenDelete","statusSwitch","setStatusSwitch","status","siteInfo","useSelector","state","handleDeleteClose","handleOpenMenu","event","type","copyItems","linkItems","actionItems","currentTarget","handleCloseMenu","IconEdit","style","marginRight","undefined","IconTrash","handleDeleteOpen","handleCopy","option","serverAddress","server_address","window","location","host","chat_link","replace","replacePlaceholders","navigator","clipboard","writeText","showSuccess","TableRow","tabIndex","TableCell","name","Tooltip","title","placement","checked","async","switchVlue","success","renderQuota","usedQuota","unlimitedQuota","remainQuota","timestamp2string","createTime","expireTime","Stack","direction","ButtonGroup","Button","e","IconButton","IconDotsVertical","Popover","anchorEl","onClose","anchorOrigin","vertical","horizontal","transformOrigin","PaperProps","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","TokenTableHead","TableHead","require","validationSchema","Yup","shape","is_edit","required","min","originInputs","tokenId","onCancel","onOk","inputs","setInputs","useEffect","res","API","get","message","data","showError","loadToken","then","fullWidth","maxWidth","fontWeight","lineHeight","fontSize","Divider","Alert","severity","Formik","initialValues","enableReinitialize","onSubmit","values","_ref2","setErrors","setStatus","setSubmitting","parseInt","put","post","submit","_ref3","errors","handleBlur","handleChange","handleSubmit","touched","setFieldError","setFieldValue","isSubmitting","noValidate","FormControl","error","Boolean","typography","otherInput","InputLabel","htmlFor","label","onBlur","inputProps","autoComplete","FormHelperText","LocalizationProvider","dateAdapter","AdapterDayjs","adapterLocale","DateTimePicker","ampm","dayjs","onError","newError","newValue","unix","slotProps","actionBar","actions","Math","floor","Date","now","endAdornment","renderQuotaWithPrompt","disabled","disableElevation","variant","Token","tokens","setTokens","activePage","setActivePage","searching","setSearching","searchKeyword","setSearchKeyword","openModal","setOpenModal","editTokenId","setEditTokenId","loadTokens","startIdx","newTokens","splice","length","catch","reason","action","delete","handleRefresh","handleCloseModal","alignItems","mb","Typography","startIcon","IconPlus","Card","Box","component","preventDefault","target","textAlign","Container","IconRefresh","LinearProgress","PerfectScrollbar","TableContainer","overflow","Table","TableBody","slice","row","TablePagination","page","count","rowsPerPage","onPageChange","onPaginationChange","ceil","rowsPerPageOptions","EditeModal"],"sourceRoot":""}