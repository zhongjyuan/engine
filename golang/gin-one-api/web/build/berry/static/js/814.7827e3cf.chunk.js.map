{"version":3,"file":"static/js/814.7827e3cf.chunk.js","mappings":"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","sources":["ui-component/cards/SubCard.js","views/Setting/component/OperationSetting.js","views/Setting/component/SystemSetting.js","views/Setting/component/OtherSetting.js","views/Setting/index.js"],"sourcesContent":["import PropTypes from \"prop-types\";\r\nimport { forwardRef } from \"react\";\r\n\r\n// material-ui\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport { Card, CardContent, CardHeader, Divider, Typography } from \"@mui/material\";\r\n\r\n// ==============================|| CUSTOM SUB CARD ||============================== //\r\n\r\nconst SubCard = forwardRef(({ children, content, contentClass, darkTitle, secondary, sx = {}, contentSX = {}, title, subTitle, ...others }, ref) => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\tref={ref}\r\n\t\t\tsx={{\r\n\t\t\t\tborder: \"1px solid\",\r\n\t\t\t\tborderColor: theme.palette.primary.light,\r\n\t\t\t\t\":hover\": {\r\n\t\t\t\t\tboxShadow: \"0 2px 14px 0 rgb(32 40 45 / 8%)\",\r\n\t\t\t\t},\r\n\t\t\t\t...sx,\r\n\t\t\t}}\r\n\t\t\t{...others}\r\n\t\t>\r\n\t\t\t{/* card header and action */}\r\n\t\t\t{!darkTitle && title && (\r\n\t\t\t\t<CardHeader sx={{ p: 2.5 }} title={<Typography variant=\"h5\">{title}</Typography>} action={secondary} subheader={subTitle} />\r\n\t\t\t)}\r\n\t\t\t{darkTitle && title && (\r\n\t\t\t\t<CardHeader sx={{ p: 2.5 }} title={<Typography variant=\"h4\">{title}</Typography>} action={secondary} subheader={subTitle} />\r\n\t\t\t)}\r\n\r\n\t\t\t{/* content & header divider */}\r\n\t\t\t{title && (\r\n\t\t\t\t<Divider\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\tborderColor: theme.palette.primary.light,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{/* card content */}\r\n\t\t\t{content && (\r\n\t\t\t\t<CardContent sx={{ p: 2.5, ...contentSX }} className={contentClass || \"\"}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</CardContent>\r\n\t\t\t)}\r\n\t\t\t{!content && children}\r\n\t\t</Card>\r\n\t);\r\n});\r\n\r\nSubCard.propTypes = {\r\n\tchildren: PropTypes.node,\r\n\tcontent: PropTypes.bool,\r\n\tcontentClass: PropTypes.string,\r\n\tdarkTitle: PropTypes.bool,\r\n\tsecondary: PropTypes.oneOfType([PropTypes.node, PropTypes.string, PropTypes.object]),\r\n\tsx: PropTypes.object,\r\n\tcontentSX: PropTypes.object,\r\n\ttitle: PropTypes.oneOfType([PropTypes.node, PropTypes.string, PropTypes.object]),\r\n};\r\n\r\nSubCard.defaultProps = {\r\n\tcontent: true,\r\n};\r\n\r\nexport default SubCard;\r\n","import { useState, useEffect } from \"react\";\r\nimport SubCard from \"ui-component/cards/SubCard\";\r\nimport { Stack, FormControl, InputLabel, OutlinedInput, Checkbox, Button, FormControlLabel, TextField } from \"@mui/material\";\r\nimport { showSuccess, showError, verifyJSON } from \"utils/common\";\r\nimport { API } from \"utils/api\";\r\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\r\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\r\nimport { DateTimePicker } from \"@mui/x-date-pickers/DateTimePicker\";\r\nimport dayjs from \"dayjs\";\r\nrequire(\"dayjs/locale/zh-cn\");\r\n\r\nconst OperationSetting = () => {\r\n\tlet now = new Date();\r\n\tlet [inputs, setInputs] = useState({\r\n\t\tQuotaForNewUser: 0,\r\n\t\tQuotaForInviter: 0,\r\n\t\tQuotaForInvitee: 0,\r\n\t\tQuotaRemindThreshold: 0,\r\n\t\tPreConsumedQuota: 0,\r\n\t\tModelRatio: \"\",\r\n\t\tCompletionRatio: \"\",\r\n\t\tGroupRatio: \"\",\r\n\t\tTopUpLink: \"\",\r\n\t\tChatLink: \"\",\r\n\t\tQuotaPerUnit: 0,\r\n\t\tAutomaticDisableChannelEnabled: \"\",\r\n\t\tAutomaticEnableChannelEnabled: \"\",\r\n\t\tChannelDisableThreshold: 0,\r\n\t\tLogConsumeEnabled: \"\",\r\n\t\tDisplayInCurrencyEnabled: \"\",\r\n\t\tDisplayTokenStatEnabled: \"\",\r\n\t\tApproximateTokenEnabled: \"\",\r\n\t\tRetryTimes: 0,\r\n\t});\r\n\tconst [originInputs, setOriginInputs] = useState({});\r\n\tlet [loading, setLoading] = useState(false);\r\n\tlet [historyTimestamp, setHistoryTimestamp] = useState(now.getTime() / 1000 - 30 * 24 * 3600); // a month ago new Date().getTime() / 1000 + 3600\r\n\r\n\tconst getOptions = async () => {\r\n\t\tconst res = await API.get(\"/api/option/\");\r\n\t\tconst { success, message, data } = res.data;\r\n\t\tif (success) {\r\n\t\t\tlet newInputs = {};\r\n\t\t\tdata.forEach((item) => {\r\n\t\t\t\tif (item.key === \"ModelRatio\" || item.key === \"GroupRatio\" || item.key === \"CompletionRatio\") {\r\n\t\t\t\t\titem.value = JSON.stringify(JSON.parse(item.value), null, 2);\r\n\t\t\t\t}\r\n\t\t\t\tif (item.value === \"{}\") {\r\n\t\t\t\t\titem.value = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tnewInputs[item.key] = item.value;\r\n\t\t\t});\r\n\t\t\tsetInputs(newInputs);\r\n\t\t\tsetOriginInputs(newInputs);\r\n\t\t} else {\r\n\t\t\tshowError(message);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetOptions().then();\r\n\t}, []);\r\n\r\n\tconst updateOption = async (key, value) => {\r\n\t\tsetLoading(true);\r\n\t\tif (key.endsWith(\"Enabled\")) {\r\n\t\t\tvalue = inputs[key] === \"true\" ? \"false\" : \"true\";\r\n\t\t}\r\n\t\tconst res = await API.put(\"/api/option/\", {\r\n\t\t\tkey,\r\n\t\t\tvalue,\r\n\t\t});\r\n\t\tconst { success, message } = res.data;\r\n\t\tif (success) {\r\n\t\t\tsetInputs((inputs) => ({ ...inputs, [key]: value }));\r\n\t\t} else {\r\n\t\t\tshowError(message);\r\n\t\t}\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\tconst handleInputChange = async (event) => {\r\n\t\tlet { name, value } = event.target;\r\n\r\n\t\tif (name.endsWith(\"Enabled\")) {\r\n\t\t\tawait updateOption(name, value);\r\n\t\t\tshowSuccess(\"设置成功！\");\r\n\t\t} else {\r\n\t\t\tsetInputs((inputs) => ({ ...inputs, [name]: value }));\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitConfig = async (group) => {\r\n\t\tswitch (group) {\r\n\t\t\tcase \"monitor\":\r\n\t\t\t\tif (originInputs[\"ChannelDisableThreshold\"] !== inputs.ChannelDisableThreshold) {\r\n\t\t\t\t\tawait updateOption(\"ChannelDisableThreshold\", inputs.ChannelDisableThreshold);\r\n\t\t\t\t}\r\n\t\t\t\tif (originInputs[\"QuotaRemindThreshold\"] !== inputs.QuotaRemindThreshold) {\r\n\t\t\t\t\tawait updateOption(\"QuotaRemindThreshold\", inputs.QuotaRemindThreshold);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ratio\":\r\n\t\t\t\tif (originInputs[\"ModelRatio\"] !== inputs.ModelRatio) {\r\n\t\t\t\t\tif (!verifyJSON(inputs.ModelRatio)) {\r\n\t\t\t\t\t\tshowError(\"模型倍率不是合法的 JSON 字符串\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tawait updateOption(\"ModelRatio\", inputs.ModelRatio);\r\n\t\t\t\t}\r\n\t\t\t\tif (originInputs[\"GroupRatio\"] !== inputs.GroupRatio) {\r\n\t\t\t\t\tif (!verifyJSON(inputs.GroupRatio)) {\r\n\t\t\t\t\t\tshowError(\"分组倍率不是合法的 JSON 字符串\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tawait updateOption(\"GroupRatio\", inputs.GroupRatio);\r\n\t\t\t\t}\r\n\t\t\t\tif (originInputs[\"CompletionRatio\"] !== inputs.CompletionRatio) {\r\n\t\t\t\t\tif (!verifyJSON(inputs.CompletionRatio)) {\r\n\t\t\t\t\t\tshowError(\"补全倍率不是合法的 JSON 字符串\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tawait updateOption(\"CompletionRatio\", inputs.CompletionRatio);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"quota\":\r\n\t\t\t\tif (originInputs[\"QuotaForNewUser\"] !== inputs.QuotaForNewUser) {\r\n\t\t\t\t\tawait updateOption(\"QuotaForNewUser\", inputs.QuotaForNewUser);\r\n\t\t\t\t}\r\n\t\t\t\tif (originInputs[\"QuotaForInvitee\"] !== inputs.QuotaForInvitee) {\r\n\t\t\t\t\tawait updateOption(\"QuotaForInvitee\", inputs.QuotaForInvitee);\r\n\t\t\t\t}\r\n\t\t\t\tif (originInputs[\"QuotaForInviter\"] !== inputs.QuotaForInviter) {\r\n\t\t\t\t\tawait updateOption(\"QuotaForInviter\", inputs.QuotaForInviter);\r\n\t\t\t\t}\r\n\t\t\t\tif (originInputs[\"PreConsumedQuota\"] !== inputs.PreConsumedQuota) {\r\n\t\t\t\t\tawait updateOption(\"PreConsumedQuota\", inputs.PreConsumedQuota);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"general\":\r\n\t\t\t\tif (originInputs[\"TopUpLink\"] !== inputs.TopUpLink) {\r\n\t\t\t\t\tawait updateOption(\"TopUpLink\", inputs.TopUpLink);\r\n\t\t\t\t}\r\n\t\t\t\tif (originInputs[\"ChatLink\"] !== inputs.ChatLink) {\r\n\t\t\t\t\tawait updateOption(\"ChatLink\", inputs.ChatLink);\r\n\t\t\t\t}\r\n\t\t\t\tif (originInputs[\"QuotaPerUnit\"] !== inputs.QuotaPerUnit) {\r\n\t\t\t\t\tawait updateOption(\"QuotaPerUnit\", inputs.QuotaPerUnit);\r\n\t\t\t\t}\r\n\t\t\t\tif (originInputs[\"RetryTimes\"] !== inputs.RetryTimes) {\r\n\t\t\t\t\tawait updateOption(\"RetryTimes\", inputs.RetryTimes);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tshowSuccess(\"保存成功！\");\r\n\t};\r\n\r\n\tconst deleteHistoryLogs = async () => {\r\n\t\tconst res = await API.delete(`/api/log/?targetTimestamp=${Math.floor(historyTimestamp)}`);\r\n\t\tconst { success, message, data } = res.data;\r\n\t\tif (success) {\r\n\t\t\tshowSuccess(`${data} 条日志已清理！`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tshowError(\"日志清理失败：\" + message);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Stack spacing={2}>\r\n\t\t\t<SubCard title=\"通用设置\">\r\n\t\t\t\t<Stack justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={2}>\r\n\t\t\t\t\t<Stack direction={{ sm: \"column\", md: \"row\" }} spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"TopUpLink\">充值链接</InputLabel>\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"TopUpLink\"\r\n\t\t\t\t\t\t\t\tname=\"TopUpLink\"\r\n\t\t\t\t\t\t\t\tvalue={inputs.TopUpLink}\r\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\tlabel=\"充值链接\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"例如发卡网站的购买链接\"\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"ChatLink\">聊天链接</InputLabel>\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"ChatLink\"\r\n\t\t\t\t\t\t\t\tname=\"ChatLink\"\r\n\t\t\t\t\t\t\t\tvalue={inputs.ChatLink}\r\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\tlabel=\"聊天链接\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"例如 ChatGPT Next Web 的部署地址\"\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"QuotaPerUnit\">单位额度</InputLabel>\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"QuotaPerUnit\"\r\n\t\t\t\t\t\t\t\tname=\"QuotaPerUnit\"\r\n\t\t\t\t\t\t\t\tvalue={inputs.QuotaPerUnit}\r\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\tlabel=\"单位额度\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"一单位货币能兑换的额度\"\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"RetryTimes\">重试次数</InputLabel>\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"RetryTimes\"\r\n\t\t\t\t\t\t\t\tname=\"RetryTimes\"\r\n\t\t\t\t\t\t\t\tvalue={inputs.RetryTimes}\r\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\tlabel=\"重试次数\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"重试次数\"\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Stack>\r\n\t\t\t\t\t<Stack direction={{ sm: \"column\", md: \"row\" }} spacing={{ xs: 3, sm: 2, md: 4 }} justifyContent=\"flex-start\" alignItems=\"flex-start\">\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tsx={{ marginLeft: \"0px\" }}\r\n\t\t\t\t\t\t\tlabel=\"以货币形式显示额度\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={inputs.DisplayInCurrencyEnabled === \"true\"} onChange={handleInputChange} name=\"DisplayInCurrencyEnabled\" />}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tlabel=\"Billing 相关 API 显示令牌额度而非用户额度\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={inputs.DisplayTokenStatEnabled === \"true\"} onChange={handleInputChange} name=\"DisplayTokenStatEnabled\" />}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tlabel=\"使用近似的方式估算 token 数以减少计算量\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={inputs.ApproximateTokenEnabled === \"true\"} onChange={handleInputChange} name=\"ApproximateTokenEnabled\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Stack>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsubmitConfig(\"general\").then();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t保存通用设置\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Stack>\r\n\t\t\t</SubCard>\r\n\t\t\t<SubCard title=\"日志设置\">\r\n\t\t\t\t<Stack direction=\"column\" justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={2}>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tlabel=\"启用日志消费\"\r\n\t\t\t\t\t\tcontrol={<Checkbox checked={inputs.LogConsumeEnabled === \"true\"} onChange={handleInputChange} name=\"LogConsumeEnabled\" />}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t<LocalizationProvider dateAdapter={AdapterDayjs} adapterLocale={\"zh-cn\"}>\r\n\t\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\t\tlabel=\"日志清理时间\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"日志清理时间\"\r\n\t\t\t\t\t\t\t\tampm={false}\r\n\t\t\t\t\t\t\t\tname=\"historyTimestamp\"\r\n\t\t\t\t\t\t\t\tvalue={historyTimestamp === null ? null : dayjs.unix(historyTimestamp)}\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\tsetHistoryTimestamp(newValue === null ? null : newValue.unix());\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tslotProps={{\r\n\t\t\t\t\t\t\t\t\tactionBar: {\r\n\t\t\t\t\t\t\t\t\t\tactions: [\"today\", \"clear\", \"accept\"],\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteHistoryLogs().then();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t清理历史日志\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Stack>\r\n\t\t\t</SubCard>\r\n\t\t\t<SubCard title=\"监控设置\">\r\n\t\t\t\t<Stack justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={2}>\r\n\t\t\t\t\t<Stack direction={{ sm: \"column\", md: \"row\" }} spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"ChannelDisableThreshold\">最长响应时间</InputLabel>\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"ChannelDisableThreshold\"\r\n\t\t\t\t\t\t\t\tname=\"ChannelDisableThreshold\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tvalue={inputs.ChannelDisableThreshold}\r\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\tlabel=\"最长响应时间\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"单位秒，当运行通道全部测试时，超过此时间将自动禁用通道\"\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"QuotaRemindThreshold\">额度提醒阈值</InputLabel>\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"QuotaRemindThreshold\"\r\n\t\t\t\t\t\t\t\tname=\"QuotaRemindThreshold\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tvalue={inputs.QuotaRemindThreshold}\r\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\tlabel=\"额度提醒阈值\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"低于此额度时将发送邮件提醒用户\"\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Stack>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tlabel=\"失败时自动禁用通道\"\r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tchecked={inputs.AutomaticDisableChannelEnabled === \"true\"}\r\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\tname=\"AutomaticDisableChannelEnabled\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tlabel=\"成功时自动启用通道\"\r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t<Checkbox checked={inputs.AutomaticEnableChannelEnabled === \"true\"} onChange={handleInputChange} name=\"AutomaticEnableChannelEnabled\" />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsubmitConfig(\"monitor\").then();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t保存监控设置\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Stack>\r\n\t\t\t</SubCard>\r\n\t\t\t<SubCard title=\"额度设置\">\r\n\t\t\t\t<Stack justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={2}>\r\n\t\t\t\t\t<Stack direction={{ sm: \"column\", md: \"row\" }} spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"QuotaForNewUser\">新用户初始额度</InputLabel>\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"QuotaForNewUser\"\r\n\t\t\t\t\t\t\t\tname=\"QuotaForNewUser\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tvalue={inputs.QuotaForNewUser}\r\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\tlabel=\"新用户初始额度\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"例如：100\"\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"PreConsumedQuota\">请求预扣费额度</InputLabel>\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"PreConsumedQuota\"\r\n\t\t\t\t\t\t\t\tname=\"PreConsumedQuota\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tvalue={inputs.PreConsumedQuota}\r\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\tlabel=\"请求预扣费额度\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"请求结束后多退少补\"\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"QuotaForInviter\">邀请新用户奖励额度</InputLabel>\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"QuotaForInviter\"\r\n\t\t\t\t\t\t\t\tname=\"QuotaForInviter\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tlabel=\"邀请新用户奖励额度\"\r\n\t\t\t\t\t\t\t\tvalue={inputs.QuotaForInviter}\r\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\tplaceholder=\"例如：2000\"\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"QuotaForInvitee\">新用户使用邀请码奖励额度</InputLabel>\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"QuotaForInvitee\"\r\n\t\t\t\t\t\t\t\tname=\"QuotaForInvitee\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tlabel=\"新用户使用邀请码奖励额度\"\r\n\t\t\t\t\t\t\t\tvalue={inputs.QuotaForInvitee}\r\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\tautoComplete=\"new-password\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"例如：1000\"\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Stack>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsubmitConfig(\"quota\").then();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t保存额度设置\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Stack>\r\n\t\t\t</SubCard>\r\n\t\t\t<SubCard title=\"倍率设置\">\r\n\t\t\t\t<Stack justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={2}>\r\n\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\tmaxRows={15}\r\n\t\t\t\t\t\t\tid=\"channel-ModelRatio-label\"\r\n\t\t\t\t\t\t\tlabel=\"模型倍率\"\r\n\t\t\t\t\t\t\tvalue={inputs.ModelRatio}\r\n\t\t\t\t\t\t\tname=\"ModelRatio\"\r\n\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\taria-describedby=\"helper-text-channel-ModelRatio-label\"\r\n\t\t\t\t\t\t\tminRows={5}\r\n\t\t\t\t\t\t\tplaceholder=\"为一个 JSON 文本，键为模型名称，值为倍率\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\tmaxRows={15}\r\n\t\t\t\t\t\t\tid=\"channel-CompletionRatio-label\"\r\n\t\t\t\t\t\t\tlabel=\"补全倍率\"\r\n\t\t\t\t\t\t\tvalue={inputs.CompletionRatio}\r\n\t\t\t\t\t\t\tname=\"CompletionRatio\"\r\n\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\taria-describedby=\"helper-text-channel-CompletionRatio-label\"\r\n\t\t\t\t\t\t\tminRows={5}\r\n\t\t\t\t\t\t\tplaceholder=\"为一个 JSON 文本，键为模型名称，值为倍率，此处的倍率设置是模型补全倍率相较于提示倍率的比例，使用该设置可强制覆盖 One API 的内部比例\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\tmaxRows={15}\r\n\t\t\t\t\t\t\tid=\"channel-GroupRatio-label\"\r\n\t\t\t\t\t\t\tlabel=\"分组倍率\"\r\n\t\t\t\t\t\t\tvalue={inputs.GroupRatio}\r\n\t\t\t\t\t\t\tname=\"GroupRatio\"\r\n\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\taria-describedby=\"helper-text-channel-GroupRatio-label\"\r\n\t\t\t\t\t\t\tminRows={5}\r\n\t\t\t\t\t\t\tplaceholder=\"为一个 JSON 文本，键为分组名称，值为倍率\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsubmitConfig(\"ratio\").then();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t保存倍率设置\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Stack>\r\n\t\t\t</SubCard>\r\n\t\t</Stack>\r\n\t);\r\n};\r\n\r\nexport default OperationSetting;\r\n","import { useState, useEffect } from \"react\";\r\nimport SubCard from \"ui-component/cards/SubCard\";\r\nimport {\r\n\tStack,\r\n\tFormControl,\r\n\tInputLabel,\r\n\tOutlinedInput,\r\n\tCheckbox,\r\n\tButton,\r\n\tFormControlLabel,\r\n\tDialog,\r\n\tDialogTitle,\r\n\tDialogContent,\r\n\tDialogActions,\r\n\tDivider,\r\n\tAlert,\r\n\tAutocomplete,\r\n\tTextField,\r\n} from \"@mui/material\";\r\nimport Grid from \"@mui/material/Unstable_Grid2\";\r\nimport { showError, showSuccess, removeTrailingSlash } from \"utils/common\"; //,\r\nimport { API } from \"utils/api\";\r\nimport { createFilterOptions } from \"@mui/material/Autocomplete\";\r\n\r\nconst filter = createFilterOptions();\r\nconst SystemSetting = () => {\r\n\tlet [inputs, setInputs] = useState({\r\n\t\tPasswordLoginEnabled: \"\",\r\n\t\tPasswordRegisterEnabled: \"\",\r\n\t\tEmailVerificationEnabled: \"\",\r\n\t\tGitHubOAuthEnabled: \"\",\r\n\t\tGitHubClientId: \"\",\r\n\t\tGitHubClientSecret: \"\",\r\n\t\tNotice: \"\",\r\n\t\tSMTPServer: \"\",\r\n\t\tSMTPPort: \"\",\r\n\t\tSMTPAccount: \"\",\r\n\t\tSMTPFrom: \"\",\r\n\t\tSMTPToken: \"\",\r\n\t\tServerAddress: \"\",\r\n\t\tFooter: \"\",\r\n\t\tWeChatAuthEnabled: \"\",\r\n\t\tWeChatServerAddress: \"\",\r\n\t\tWeChatServerToken: \"\",\r\n\t\tWeChatAccountQRCodeImageURL: \"\",\r\n\t\tTurnstileCheckEnabled: \"\",\r\n\t\tTurnstileSiteKey: \"\",\r\n\t\tTurnstileSecretKey: \"\",\r\n\t\tRegisterEnabled: \"\",\r\n\t\tEmailDomainRestrictionEnabled: \"\",\r\n\t\tEmailDomainWhitelist: [],\r\n\t});\r\n\tconst [originInputs, setOriginInputs] = useState({});\r\n\tlet [loading, setLoading] = useState(false);\r\n\tconst [EmailDomainWhitelist, setEmailDomainWhitelist] = useState([]);\r\n\tconst [showPasswordWarningModal, setShowPasswordWarningModal] = useState(false);\r\n\r\n\tconst getOptions = async () => {\r\n\t\tconst res = await API.get(\"/api/option/\");\r\n\t\tconst { success, message, data } = res.data;\r\n\t\tif (success) {\r\n\t\t\tlet newInputs = {};\r\n\t\t\tdata.forEach((item) => {\r\n\t\t\t\tnewInputs[item.key] = item.value;\r\n\t\t\t});\r\n\t\t\tsetInputs({\r\n\t\t\t\t...newInputs,\r\n\t\t\t\tEmailDomainWhitelist: newInputs.EmailDomainWhitelist.split(\",\"),\r\n\t\t\t});\r\n\t\t\tsetOriginInputs(newInputs);\r\n\r\n\t\t\tsetEmailDomainWhitelist(newInputs.EmailDomainWhitelist.split(\",\"));\r\n\t\t} else {\r\n\t\t\tshowError(message);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetOptions().then();\r\n\t}, []);\r\n\r\n\tconst updateOption = async (key, value) => {\r\n\t\tsetLoading(true);\r\n\t\tswitch (key) {\r\n\t\t\tcase \"PasswordLoginEnabled\":\r\n\t\t\tcase \"PasswordRegisterEnabled\":\r\n\t\t\tcase \"EmailVerificationEnabled\":\r\n\t\t\tcase \"GitHubOAuthEnabled\":\r\n\t\t\tcase \"WeChatAuthEnabled\":\r\n\t\t\tcase \"TurnstileCheckEnabled\":\r\n\t\t\tcase \"EmailDomainRestrictionEnabled\":\r\n\t\t\tcase \"RegisterEnabled\":\r\n\t\t\t\tvalue = inputs[key] === \"true\" ? \"false\" : \"true\";\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tconst res = await API.put(\"/api/option/\", {\r\n\t\t\tkey,\r\n\t\t\tvalue,\r\n\t\t});\r\n\t\tconst { success, message } = res.data;\r\n\t\tif (success) {\r\n\t\t\tif (key === \"EmailDomainWhitelist\") {\r\n\t\t\t\tvalue = value.split(\",\");\r\n\t\t\t}\r\n\t\t\tsetInputs((inputs) => ({\r\n\t\t\t\t...inputs,\r\n\t\t\t\t[key]: value,\r\n\t\t\t}));\r\n\t\t\tshowSuccess(\"设置成功！\");\r\n\t\t} else {\r\n\t\t\tshowError(message);\r\n\t\t}\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\tconst handleInputChange = async (event) => {\r\n\t\tlet { name, value } = event.target;\r\n\r\n\t\tif (name === \"PasswordLoginEnabled\" && inputs[name] === \"true\") {\r\n\t\t\t// block disabling password login\r\n\t\t\tsetShowPasswordWarningModal(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (\r\n\t\t\tname === \"Notice\" ||\r\n\t\t\tname.startsWith(\"SMTP\") ||\r\n\t\t\tname === \"ServerAddress\" ||\r\n\t\t\tname === \"GitHubClientId\" ||\r\n\t\t\tname === \"GitHubClientSecret\" ||\r\n\t\t\tname === \"WeChatServerAddress\" ||\r\n\t\t\tname === \"WeChatServerToken\" ||\r\n\t\t\tname === \"WeChatAccountQRCodeImageURL\" ||\r\n\t\t\tname === \"TurnstileSiteKey\" ||\r\n\t\t\tname === \"TurnstileSecretKey\" ||\r\n\t\t\tname === \"EmailDomainWhitelist\"\r\n\t\t) {\r\n\t\t\tsetInputs((inputs) => ({ ...inputs, [name]: value }));\r\n\t\t} else {\r\n\t\t\tawait updateOption(name, value);\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitServerAddress = async () => {\r\n\t\tlet ServerAddress = removeTrailingSlash(inputs.ServerAddress);\r\n\t\tawait updateOption(\"ServerAddress\", ServerAddress);\r\n\t};\r\n\r\n\tconst submitSMTP = async () => {\r\n\t\tif (originInputs[\"SMTPServer\"] !== inputs.SMTPServer) {\r\n\t\t\tawait updateOption(\"SMTPServer\", inputs.SMTPServer);\r\n\t\t}\r\n\t\tif (originInputs[\"SMTPAccount\"] !== inputs.SMTPAccount) {\r\n\t\t\tawait updateOption(\"SMTPAccount\", inputs.SMTPAccount);\r\n\t\t}\r\n\t\tif (originInputs[\"SMTPFrom\"] !== inputs.SMTPFrom) {\r\n\t\t\tawait updateOption(\"SMTPFrom\", inputs.SMTPFrom);\r\n\t\t}\r\n\t\tif (originInputs[\"SMTPPort\"] !== inputs.SMTPPort && inputs.SMTPPort !== \"\") {\r\n\t\t\tawait updateOption(\"SMTPPort\", inputs.SMTPPort);\r\n\t\t}\r\n\t\tif (originInputs[\"SMTPToken\"] !== inputs.SMTPToken && inputs.SMTPToken !== \"\") {\r\n\t\t\tawait updateOption(\"SMTPToken\", inputs.SMTPToken);\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitEmailDomainWhitelist = async () => {\r\n\t\tawait updateOption(\"EmailDomainWhitelist\", inputs.EmailDomainWhitelist.join(\",\"));\r\n\t};\r\n\r\n\tconst submitWeChat = async () => {\r\n\t\tif (originInputs[\"WeChatServerAddress\"] !== inputs.WeChatServerAddress) {\r\n\t\t\tawait updateOption(\"WeChatServerAddress\", removeTrailingSlash(inputs.WeChatServerAddress));\r\n\t\t}\r\n\t\tif (originInputs[\"WeChatAccountQRCodeImageURL\"] !== inputs.WeChatAccountQRCodeImageURL) {\r\n\t\t\tawait updateOption(\"WeChatAccountQRCodeImageURL\", inputs.WeChatAccountQRCodeImageURL);\r\n\t\t}\r\n\t\tif (originInputs[\"WeChatServerToken\"] !== inputs.WeChatServerToken && inputs.WeChatServerToken !== \"\") {\r\n\t\t\tawait updateOption(\"WeChatServerToken\", inputs.WeChatServerToken);\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitGitHubOAuth = async () => {\r\n\t\tif (originInputs[\"GitHubClientId\"] !== inputs.GitHubClientId) {\r\n\t\t\tawait updateOption(\"GitHubClientId\", inputs.GitHubClientId);\r\n\t\t}\r\n\t\tif (originInputs[\"GitHubClientSecret\"] !== inputs.GitHubClientSecret && inputs.GitHubClientSecret !== \"\") {\r\n\t\t\tawait updateOption(\"GitHubClientSecret\", inputs.GitHubClientSecret);\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitTurnstile = async () => {\r\n\t\tif (originInputs[\"TurnstileSiteKey\"] !== inputs.TurnstileSiteKey) {\r\n\t\t\tawait updateOption(\"TurnstileSiteKey\", inputs.TurnstileSiteKey);\r\n\t\t}\r\n\t\tif (originInputs[\"TurnstileSecretKey\"] !== inputs.TurnstileSecretKey && inputs.TurnstileSecretKey !== \"\") {\r\n\t\t\tawait updateOption(\"TurnstileSecretKey\", inputs.TurnstileSecretKey);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Stack spacing={2}>\r\n\t\t\t\t<SubCard title=\"通用设置\">\r\n\t\t\t\t\t<Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"ServerAddress\">服务器地址</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"ServerAddress\"\r\n\t\t\t\t\t\t\t\t\tname=\"ServerAddress\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.ServerAddress || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"服务器地址\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"例如：https://yourdomain.com\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitServerAddress}>\r\n\t\t\t\t\t\t\t\t更新服务器地址\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</SubCard>\r\n\t\t\t\t<SubCard title=\"配置登录注册\">\r\n\t\t\t\t\t<Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<Grid xs={12} md={3}>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tlabel=\"允许通过密码进行登录\"\r\n\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={inputs.PasswordLoginEnabled === \"true\"} onChange={handleInputChange} name=\"PasswordLoginEnabled\" />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={3}>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tlabel=\"允许通过密码进行注册\"\r\n\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={inputs.PasswordRegisterEnabled === \"true\"} onChange={handleInputChange} name=\"PasswordRegisterEnabled\" />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={3}>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tlabel=\"通过密码注册时需要进行邮箱验证\"\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox checked={inputs.EmailVerificationEnabled === \"true\"} onChange={handleInputChange} name=\"EmailVerificationEnabled\" />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={3}>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tlabel=\"允许通过 GitHub 账户登录 & 注册\"\r\n\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={inputs.GitHubOAuthEnabled === \"true\"} onChange={handleInputChange} name=\"GitHubOAuthEnabled\" />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={3}>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tlabel=\"允许通过微信登录 & 注册\"\r\n\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={inputs.WeChatAuthEnabled === \"true\"} onChange={handleInputChange} name=\"WeChatAuthEnabled\" />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={3}>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tlabel=\"允许新用户注册（此项为否时，新用户将无法以任何方式进行注册）\"\r\n\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={inputs.RegisterEnabled === \"true\"} onChange={handleInputChange} name=\"RegisterEnabled\" />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={3}>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tlabel=\"启用 Turnstile 用户校验\"\r\n\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={inputs.TurnstileCheckEnabled === \"true\"} onChange={handleInputChange} name=\"TurnstileCheckEnabled\" />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</SubCard>\r\n\t\t\t\t<SubCard title=\"配置邮箱域名白名单\" subTitle=\"用以防止恶意用户利用临时邮箱批量注册\">\r\n\t\t\t\t\t<Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tlabel=\"启用邮箱域名白名单\"\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={inputs.EmailDomainRestrictionEnabled === \"true\"}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\t\tname=\"EmailDomainRestrictionEnabled\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t\t\tfreeSolo\r\n\t\t\t\t\t\t\t\t\tid=\"EmailDomainWhitelist\"\r\n\t\t\t\t\t\t\t\t\toptions={EmailDomainWhitelist}\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.EmailDomainWhitelist}\r\n\t\t\t\t\t\t\t\t\tonChange={(e, value) => {\r\n\t\t\t\t\t\t\t\t\t\tconst event = {\r\n\t\t\t\t\t\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tname: \"EmailDomainWhitelist\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: value,\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\thandleInputChange(event);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tfilterSelectedOptions\r\n\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} name=\"EmailDomainWhitelist\" label=\"允许的邮箱域名\" />}\r\n\t\t\t\t\t\t\t\t\tfilterOptions={(options, params) => {\r\n\t\t\t\t\t\t\t\t\t\tconst filtered = filter(options, params);\r\n\t\t\t\t\t\t\t\t\t\tconst { inputValue } = params;\r\n\t\t\t\t\t\t\t\t\t\tconst isExisting = options.some((option) => inputValue === option);\r\n\t\t\t\t\t\t\t\t\t\tif (inputValue !== \"\" && !isExisting) {\r\n\t\t\t\t\t\t\t\t\t\t\tfiltered.push(inputValue);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn filtered;\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitEmailDomainWhitelist}>\r\n\t\t\t\t\t\t\t\t保存邮箱域名白名单设置\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</SubCard>\r\n\t\t\t\t<SubCard title=\"配置 SMTP\" subTitle=\"用以支持系统的邮件发送\">\r\n\t\t\t\t\t<Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<Grid xs={12} md={4}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"SMTPServer\">SMTP 服务器地址</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"SMTPServer\"\r\n\t\t\t\t\t\t\t\t\tname=\"SMTPServer\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.SMTPServer || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"SMTP 服务器地址\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"例如：smtp.qq.com\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={4}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"SMTPPort\">SMTP 端口</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"SMTPPort\"\r\n\t\t\t\t\t\t\t\t\tname=\"SMTPPort\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.SMTPPort || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"SMTP 端口\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"默认: 587\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={4}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"SMTPAccount\">SMTP 账户</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"SMTPAccount\"\r\n\t\t\t\t\t\t\t\t\tname=\"SMTPAccount\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.SMTPAccount || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"SMTP 账户\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"通常是邮箱地址\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={4}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"SMTPFrom\">SMTP 发送者邮箱</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"SMTPFrom\"\r\n\t\t\t\t\t\t\t\t\tname=\"SMTPFrom\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.SMTPFrom || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"SMTP 发送者邮箱\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"通常和邮箱地址保持一致\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={4}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"SMTPToken\">SMTP 访问凭证</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"SMTPToken\"\r\n\t\t\t\t\t\t\t\t\tname=\"SMTPToken\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.SMTPToken || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"SMTP 访问凭证\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"敏感信息不会发送到前端显示\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitSMTP}>\r\n\t\t\t\t\t\t\t\t保存 SMTP 设置\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</SubCard>\r\n\t\t\t\t<SubCard\r\n\t\t\t\t\ttitle=\"配置 GitHub OAuth App\"\r\n\t\t\t\t\tsubTitle={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t用以支持通过 GitHub 进行登录注册，\r\n\t\t\t\t\t\t\t<a href=\"https://github.com/settings/developers\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t点击此处\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t管理你的 GitHub OAuth App\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Alert severity=\"info\" sx={{ wordWrap: \"break-word\" }}>\r\n\t\t\t\t\t\t\t\tHomepage URL 填 <b>{inputs.ServerAddress}</b>\r\n\t\t\t\t\t\t\t\t，Authorization callback URL 填 <b>{`${inputs.ServerAddress}/oauth/github`}</b>\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={6}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"GitHubClientId\">GitHub Client ID</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"GitHubClientId\"\r\n\t\t\t\t\t\t\t\t\tname=\"GitHubClientId\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.GitHubClientId || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"GitHub Client ID\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"输入你注册的 GitHub OAuth APP 的 ID\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={6}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"GitHubClientSecret\">GitHub Client Secret</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"GitHubClientSecret\"\r\n\t\t\t\t\t\t\t\t\tname=\"GitHubClientSecret\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.GitHubClientSecret || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"GitHub Client Secret\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"敏感信息不会发送到前端显示\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitGitHubOAuth}>\r\n\t\t\t\t\t\t\t\t保存 GitHub OAuth 设置\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</SubCard>\r\n\t\t\t\t<SubCard\r\n\t\t\t\t\ttitle=\"配置 WeChat Server\"\r\n\t\t\t\t\tsubTitle={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t用以支持通过微信进行登录注册，\r\n\t\t\t\t\t\t\t<a href=\"https://gitee.com/zhongjyuan/wechat-server\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t点击此处\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t了解 WeChat Server\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<Grid xs={12} md={4}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"WeChatServerAddress\">WeChat Server 服务器地址</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"WeChatServerAddress\"\r\n\t\t\t\t\t\t\t\t\tname=\"WeChatServerAddress\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.WeChatServerAddress || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"WeChat Server 服务器地址\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"例如：https://yourdomain.com\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={4}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"WeChatServerToken\">WeChat Server 访问凭证</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"WeChatServerToken\"\r\n\t\t\t\t\t\t\t\t\tname=\"WeChatServerToken\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.WeChatServerToken || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"WeChat Server 访问凭证\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"敏感信息不会发送到前端显示\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={4}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"WeChatAccountQRCodeImageURL\">微信公众号二维码图片链接</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"WeChatAccountQRCodeImageURL\"\r\n\t\t\t\t\t\t\t\t\tname=\"WeChatAccountQRCodeImageURL\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.WeChatAccountQRCodeImageURL || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"微信公众号二维码图片链接\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"输入一个图片链接\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitWeChat}>\r\n\t\t\t\t\t\t\t\t保存 WeChat Server 设置\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</SubCard>\r\n\t\t\t\t<SubCard\r\n\t\t\t\t\ttitle=\"配置 Turnstile\"\r\n\t\t\t\t\tsubTitle={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t用以支持用户校验，\r\n\t\t\t\t\t\t\t<a href=\"https://dash.cloudflare.com/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t点击此处\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t管理你的 Turnstile Sites，推荐选择 Invisible Widget Type\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<Grid xs={12} md={6}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"TurnstileSiteKey\">Turnstile Site Key</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"TurnstileSiteKey\"\r\n\t\t\t\t\t\t\t\t\tname=\"TurnstileSiteKey\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.TurnstileSiteKey || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Turnstile Site Key\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"输入你注册的 Turnstile Site Key\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12} md={6}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"TurnstileSecretKey\">Turnstile Secret Key</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"TurnstileSecretKey\"\r\n\t\t\t\t\t\t\t\t\tname=\"TurnstileSecretKey\"\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.TurnstileSecretKey || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Turnstile Secret Key\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"敏感信息不会发送到前端显示\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitTurnstile}>\r\n\t\t\t\t\t\t\t\t保存 Turnstile 设置\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</SubCard>\r\n\t\t\t</Stack>\r\n\t\t\t<Dialog open={showPasswordWarningModal} onClose={() => setShowPasswordWarningModal(false)} maxWidth={\"md\"}>\r\n\t\t\t\t<DialogTitle sx={{ margin: \"0px\", fontWeight: 700, lineHeight: \"1.55556\", padding: \"24px\", fontSize: \"1.125rem\" }}>警告</DialogTitle>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<DialogContent>取消密码登录将导致所有未绑定其他登录方式的用户（包括管理员）无法通过密码登录，确认取消？</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={() => setShowPasswordWarningModal(false)}>取消</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsx={{ color: \"error.main\" }}\r\n\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\tsetShowPasswordWarningModal(false);\r\n\t\t\t\t\t\t\tawait updateOption(\"PasswordLoginEnabled\", \"false\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t确定\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default SystemSetting;\r\n","import { useState, useEffect } from \"react\";\r\nimport SubCard from \"ui-component/cards/SubCard\";\r\nimport {\r\n\tStack,\r\n\tFormControl,\r\n\tInputLabel,\r\n\tOutlinedInput,\r\n\tButton,\r\n\tAlert,\r\n\tTextField,\r\n\tDialog,\r\n\tDialogTitle,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDivider,\r\n\tLink,\r\n} from \"@mui/material\";\r\nimport Grid from \"@mui/material/Unstable_Grid2\";\r\nimport { showError, showSuccess } from \"utils/common\"; //,\r\nimport { API } from \"utils/api\";\r\nimport { marked } from \"marked\";\r\n\r\nconst OtherSetting = () => {\r\n\tlet [inputs, setInputs] = useState({\r\n\t\tFooter: \"\",\r\n\t\tNotice: \"\",\r\n\t\tAbout: \"\",\r\n\t\tSystemName: \"\",\r\n\t\tLogo: \"\",\r\n\t\tHomePageContent: \"\",\r\n\t\tTheme: \"\",\r\n\t});\r\n\tlet [loading, setLoading] = useState(false);\r\n\tconst [showUpdateModal, setShowUpdateModal] = useState(false);\r\n\tconst [updateData, setUpdateData] = useState({\r\n\t\ttagName: \"\",\r\n\t\tcontent: \"\",\r\n\t});\r\n\r\n\tconst getOptions = async () => {\r\n\t\tconst res = await API.get(\"/api/option/\");\r\n\t\tconst { success, message, data } = res.data;\r\n\t\tif (success) {\r\n\t\t\tlet newInputs = {};\r\n\t\t\tdata.forEach((item) => {\r\n\t\t\t\tif (item.key in inputs) {\r\n\t\t\t\t\tnewInputs[item.key] = item.value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetInputs(newInputs);\r\n\t\t} else {\r\n\t\t\tshowError(message);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetOptions().then();\r\n\t}, []);\r\n\r\n\tconst updateOption = async (key, value) => {\r\n\t\tsetLoading(true);\r\n\t\tconst res = await API.put(\"/api/option/\", {\r\n\t\t\tkey,\r\n\t\t\tvalue,\r\n\t\t});\r\n\t\tconst { success, message } = res.data;\r\n\t\tif (success) {\r\n\t\t\tsetInputs((inputs) => ({ ...inputs, [key]: value }));\r\n\t\t\tshowSuccess(\"保存成功\");\r\n\t\t} else {\r\n\t\t\tshowError(message);\r\n\t\t}\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\tconst handleInputChange = async (event) => {\r\n\t\tlet { name, value } = event.target;\r\n\t\tsetInputs((inputs) => ({ ...inputs, [name]: value }));\r\n\t};\r\n\r\n\tconst submitNotice = async () => {\r\n\t\tawait updateOption(\"Notice\", inputs.Notice);\r\n\t};\r\n\r\n\tconst submitFooter = async () => {\r\n\t\tawait updateOption(\"Footer\", inputs.Footer);\r\n\t};\r\n\r\n\tconst submitSystemName = async () => {\r\n\t\tawait updateOption(\"SystemName\", inputs.SystemName);\r\n\t};\r\n\r\n\tconst submitTheme = async () => {\r\n\t\tawait updateOption(\"Theme\", inputs.Theme);\r\n\t};\r\n\r\n\tconst submitLogo = async () => {\r\n\t\tawait updateOption(\"Logo\", inputs.Logo);\r\n\t};\r\n\r\n\tconst submitAbout = async () => {\r\n\t\tawait updateOption(\"About\", inputs.About);\r\n\t};\r\n\r\n\tconst submitOption = async (key) => {\r\n\t\tawait updateOption(key, inputs[key]);\r\n\t};\r\n\r\n\tconst openGitHubRelease = () => {\r\n\t\twindow.location = \"https://gitee.com/zhongjyuan/one-api/releases/latest\";\r\n\t};\r\n\r\n\tconst checkUpdate = async () => {\r\n\t\tconst res = await API.get(\"https://api.github.com/repos/songquanpeng/one-api/releases/latest\");\r\n\t\tconst { tagName, body } = res.data;\r\n\t\tif (tagName === process.env.REACT_APP_VERSION) {\r\n\t\t\tshowSuccess(`已是最新版本：${tagName}`);\r\n\t\t} else {\r\n\t\t\tsetUpdateData({\r\n\t\t\t\ttagName: tagName,\r\n\t\t\t\tcontent: marked.parse(body),\r\n\t\t\t});\r\n\t\t\tsetShowUpdateModal(true);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Stack spacing={2}>\r\n\t\t\t\t<SubCard title=\"通用设置\">\r\n\t\t\t\t\t<Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={checkUpdate}>\r\n\t\t\t\t\t\t\t\t检查更新\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\tmaxRows={15}\r\n\t\t\t\t\t\t\t\t\tid=\"Notice\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"公告\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.Notice}\r\n\t\t\t\t\t\t\t\t\tname=\"Notice\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tminRows={10}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"在此输入新的公告内容，支持 Markdown & HTML 代码\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitNotice}>\r\n\t\t\t\t\t\t\t\t保存公告\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</SubCard>\r\n\t\t\t\t<SubCard title=\"个性化设置\">\r\n\t\t\t\t\t<Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"SystemName\">系统名称</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"SystemName\"\r\n\t\t\t\t\t\t\t\t\tname=\"SystemName\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.SystemName || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"系统名称\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"在此输入系统名称\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitSystemName}>\r\n\t\t\t\t\t\t\t\t设置系统名称\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"Theme\">主题名称</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"Theme\"\r\n\t\t\t\t\t\t\t\t\tname=\"Theme\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.Theme || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"主题名称\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"请输入主题名称\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitTheme}>\r\n\t\t\t\t\t\t\t\t设置主题（重启生效）\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"Logo\">Logo 图片地址</InputLabel>\r\n\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\tid=\"Logo\"\r\n\t\t\t\t\t\t\t\t\tname=\"Logo\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.Logo || \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Logo 图片地址\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"在此输入Logo 图片地址\"\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitLogo}>\r\n\t\t\t\t\t\t\t\t设置 Logo\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\tmaxRows={15}\r\n\t\t\t\t\t\t\t\t\tid=\"HomePageContent\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"首页内容\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.HomePageContent}\r\n\t\t\t\t\t\t\t\t\tname=\"HomePageContent\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tminRows={10}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"在此输入首页内容，支持 Markdown & HTML 代码，设置后首页的状态信息将不再显示。如果输入的是一个链接，则会使用该链接作为 iframe 的 src 属性，这允许你设置任意网页作为首页。\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={() => submitOption(\"HomePageContent\")}>\r\n\t\t\t\t\t\t\t\t保存首页内容\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\tmaxRows={15}\r\n\t\t\t\t\t\t\t\t\tid=\"About\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"关于\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.About}\r\n\t\t\t\t\t\t\t\t\tname=\"About\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tminRows={10}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"在此输入新的关于内容，支持 Markdown & HTML 代码。如果输入的是一个链接，则会使用该链接作为 iframe 的 src 属性，这允许你设置任意网页作为关于页面。\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitAbout}>\r\n\t\t\t\t\t\t\t\t保存关于\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Alert severity=\"warning\">\r\n\t\t\t\t\t\t\t\t移除 One API 的版权标识必须首先获得授权，项目维护需要花费大量精力，如果本项目对你有意义，请主动支持本项目。\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\tmaxRows={15}\r\n\t\t\t\t\t\t\t\t\tid=\"Footer\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"公告\"\r\n\t\t\t\t\t\t\t\t\tvalue={inputs.Footer}\r\n\t\t\t\t\t\t\t\t\tname=\"Footer\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tminRows={10}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"在此输入新的页脚，留空则使用默认页脚，支持 HTML 代码\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid xs={12}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={submitFooter}>\r\n\t\t\t\t\t\t\t\t设置页脚\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</SubCard>\r\n\t\t\t</Stack>\r\n\t\t\t<Dialog open={showUpdateModal} onClose={() => setShowUpdateModal(false)} fullWidth maxWidth={\"md\"}>\r\n\t\t\t\t<DialogTitle sx={{ margin: \"0px\", fontWeight: 700, lineHeight: \"1.55556\", padding: \"24px\", fontSize: \"1.125rem\" }}>\r\n\t\t\t\t\t新版本：{updateData.tagName}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: updateData.content }}></div>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={() => setShowUpdateModal(false)}>关闭</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\tsetShowUpdateModal(false);\r\n\t\t\t\t\t\t\topenGitHubRelease();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t去GitHub查看\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default OtherSetting;\r\n","import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Tabs, Tab, Box, Card } from \"@mui/material\";\r\nimport { IconSettings2, IconActivity, IconSettings } from \"@tabler/icons-react\";\r\nimport OperationSetting from \"./component/OperationSetting\";\r\nimport SystemSetting from \"./component/SystemSetting\";\r\nimport OtherSetting from \"./component/OtherSetting\";\r\nimport AdminContainer from \"ui-component/AdminContainer\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\nfunction CustomTabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div role=\"tabpanel\" hidden={value !== index} id={`setting-tabpanel-${index}`} aria-labelledby={`setting-tab-${index}`} {...other}>\r\n\t\t\t{value === index && <Box sx={{ p: 3 }}>{children}</Box>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nCustomTabPanel.propTypes = {\r\n\tchildren: PropTypes.node,\r\n\tindex: PropTypes.number.isRequired,\r\n\tvalue: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `setting-tab-${index}`,\r\n\t\t\"aria-controls\": `setting-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst Setting = () => {\r\n\tconst location = useLocation();\r\n\tconst navigate = useNavigate();\r\n\tconst hash = location.hash.replace(\"#\", \"\");\r\n\tconst tabMap = {\r\n\t\toperation: 0,\r\n\t\tsystem: 1,\r\n\t\tother: 2,\r\n\t};\r\n\tconst [value, setValue] = useState(tabMap[hash] || 0);\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t\tconst hashArray = Object.keys(tabMap);\r\n\t\tnavigate(`#${hashArray[newValue]}`);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleHashChange = () => {\r\n\t\t\tconst hash = location.hash.replace(\"#\", \"\");\r\n\t\t\tsetValue(tabMap[hash] || 0);\r\n\t\t};\r\n\t\twindow.addEventListener(\"hashchange\", handleHashChange);\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"hashchange\", handleHashChange);\r\n\t\t};\r\n\t}, [location, tabMap]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Card>\r\n\t\t\t\t<AdminContainer>\r\n\t\t\t\t\t<Box sx={{ width: \"100%\" }}>\r\n\t\t\t\t\t\t<Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n\t\t\t\t\t\t\t<Tabs value={value} onChange={handleChange} variant=\"scrollable\" scrollButtons=\"auto\">\r\n\t\t\t\t\t\t\t\t<Tab label=\"运营设置\" {...a11yProps(0)} icon={<IconActivity />} iconPosition=\"start\" />\r\n\t\t\t\t\t\t\t\t<Tab label=\"系统设置\" {...a11yProps(1)} icon={<IconSettings />} iconPosition=\"start\" />\r\n\t\t\t\t\t\t\t\t<Tab label=\"其他设置\" {...a11yProps(2)} icon={<IconSettings2 />} iconPosition=\"start\" />\r\n\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<CustomTabPanel value={value} index={0}>\r\n\t\t\t\t\t\t\t<OperationSetting />\r\n\t\t\t\t\t\t</CustomTabPanel>\r\n\t\t\t\t\t\t<CustomTabPanel value={value} index={1}>\r\n\t\t\t\t\t\t\t<SystemSetting />\r\n\t\t\t\t\t\t</CustomTabPanel>\r\n\t\t\t\t\t\t<CustomTabPanel value={value} index={2}>\r\n\t\t\t\t\t\t\t<OtherSetting />\r\n\t\t\t\t\t\t</CustomTabPanel>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</AdminContainer>\r\n\t\t\t</Card>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Setting;\r\n"],"names":["SubCard","forwardRef","_ref","ref","children","content","contentClass","darkTitle","secondary","sx","contentSX","title","subTitle","others","theme","useTheme","_jsxs","Card","border","borderColor","palette","primary","light","boxShadow","_jsx","CardHeader","p","Typography","variant","action","subheader","Divider","opacity","CardContent","className","defaultProps","require","OperationSetting","now","Date","inputs","setInputs","useState","QuotaForNewUser","QuotaForInviter","QuotaForInvitee","QuotaRemindThreshold","PreConsumedQuota","ModelRatio","CompletionRatio","GroupRatio","TopUpLink","ChatLink","QuotaPerUnit","AutomaticDisableChannelEnabled","AutomaticEnableChannelEnabled","ChannelDisableThreshold","LogConsumeEnabled","DisplayInCurrencyEnabled","DisplayTokenStatEnabled","ApproximateTokenEnabled","RetryTimes","originInputs","setOriginInputs","loading","setLoading","historyTimestamp","setHistoryTimestamp","getTime","useEffect","async","res","API","get","success","message","data","newInputs","forEach","item","key","value","JSON","stringify","parse","showError","getOptions","then","updateOption","endsWith","put","handleInputChange","name","event","target","showSuccess","submitConfig","group","verifyJSON","Stack","spacing","justifyContent","alignItems","direction","sm","md","xs","FormControl","fullWidth","InputLabel","htmlFor","OutlinedInput","id","onChange","label","placeholder","disabled","FormControlLabel","marginLeft","control","Checkbox","checked","Button","onClick","LocalizationProvider","dateAdapter","AdapterDayjs","adapterLocale","DateTimePicker","ampm","dayjs","newValue","unix","slotProps","actionBar","actions","delete","Math","floor","deleteHistoryLogs","type","autoComplete","TextField","multiline","maxRows","minRows","filter","createFilterOptions","SystemSetting","PasswordLoginEnabled","PasswordRegisterEnabled","EmailVerificationEnabled","GitHubOAuthEnabled","GitHubClientId","GitHubClientSecret","Notice","SMTPServer","SMTPPort","SMTPAccount","SMTPFrom","SMTPToken","ServerAddress","Footer","WeChatAuthEnabled","WeChatServerAddress","WeChatServerToken","WeChatAccountQRCodeImageURL","TurnstileCheckEnabled","TurnstileSiteKey","TurnstileSecretKey","RegisterEnabled","EmailDomainRestrictionEnabled","EmailDomainWhitelist","setEmailDomainWhitelist","showPasswordWarningModal","setShowPasswordWarningModal","split","startsWith","_Fragment","Grid","container","removeTrailingSlash","Autocomplete","multiple","freeSolo","options","e","filterSelectedOptions","renderInput","params","filterOptions","filtered","inputValue","isExisting","some","option","push","join","href","rel","Alert","severity","wordWrap","Dialog","open","onClose","maxWidth","DialogTitle","margin","fontWeight","lineHeight","padding","fontSize","DialogContent","DialogActions","color","OtherSetting","About","SystemName","Logo","HomePageContent","Theme","showUpdateModal","setShowUpdateModal","updateData","setUpdateData","tagName","body","process","REACT_APP_VERSION","marked","submitOption","dangerouslySetInnerHTML","__html","window","location","CustomTabPanel","props","index","other","role","hidden","Box","a11yProps","Setting","useLocation","navigate","useNavigate","hash","replace","tabMap","operation","system","setValue","handleHashChange","addEventListener","removeEventListener","AdminContainer","width","borderBottom","Tabs","handleChange","hashArray","Object","keys","scrollButtons","Tab","icon","IconActivity","iconPosition","IconSettings","IconSettings2"],"sourceRoot":""}